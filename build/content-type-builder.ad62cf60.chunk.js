(self.webpackChunkget_price=self.webpackChunkget_price||[]).push([[8880],{66848:(ae,ee,o)=>{"use strict";o.d(ee,{Z:()=>Ht});var a=o(67294),g=o(27821),I=o(45697),h=o.n(I),v=o(35961),Y=o(85038),j=Object.defineProperty,O=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,E=(Z,C,M)=>C in Z?j(Z,C,{enumerable:!0,configurable:!0,writable:!0,value:M}):Z[C]=M,J=(Z,C)=>{for(var M in C||(C={}))W.call(C,M)&&E(Z,M,C[M]);if(O)for(var M of O(C))r.call(C,M)&&E(Z,M,C[M]);return Z};function _(Z){return a.createElement("svg",J({width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Z),a.createElement("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#4945FF",stroke:"#4945FF"}),a.createElement("path",{d:"M15.328 10.54h1.723c.012-.089.012-.165.012-.253 0-1.676-1.471-2.959-3.41-2.959-2.696 0-4.647 2.22-4.647 5.344 0 2.15 1.383 3.545 3.504 3.545 2.045 0 3.597-1.154 3.967-2.936h-1.752c-.276.826-1.102 1.371-2.063 1.371-1.137 0-1.846-.802-1.846-2.103 0-2.08 1.19-3.65 2.725-3.65 1.037 0 1.746.62 1.787 1.558v.082zM21.053 16l1.488-6.943h2.531l.31-1.512H18.54l-.31 1.512h2.53L19.272 16h1.782z",fill:"#fff"}))}var G=o(34668),H=o(14484),Q=o(65531),me=o(73145),ie=o(82574),xe=o(60133),P=Object.defineProperty,l=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,A=(Z,C,M)=>C in Z?P(Z,C,{enumerable:!0,configurable:!0,writable:!0,value:M}):Z[C]=M,Ce=(Z,C)=>{for(var M in C||(C={}))b.call(C,M)&&A(Z,M,C[M]);if(l)for(var M of l(C))q.call(C,M)&&A(Z,M,C[M]);return Z};function We(Z){return a.createElement("svg",Ce({width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Z),a.createElement("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#EAF5FF",stroke:"#B8E1FF"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.286 9.286v-.857a.397.397 0 00-.138-.302A.465.465 0 0018.82 8h-8.357a.465.465 0 00-.326.127.397.397 0 00-.138.302v.857c0 .116.046.216.138.301.092.085.2.127.326.127h8.357a.465.465 0 00.327-.127.397.397 0 00.138-.301zm2.785 2.713v.857a.397.397 0 01-.137.301.465.465 0 01-.327.128H10.464a.465.465 0 01-.326-.128.397.397 0 01-.138-.301v-.857c0-.116.046-.217.138-.302a.465.465 0 01.326-.127h11.143c.126 0 .235.043.327.127a.397.397 0 01.137.302zm-1.857 3.574v.857a.397.397 0 01-.137.302.465.465 0 01-.327.127h-9.286a.465.465 0 01-.326-.127.397.397 0 01-.138-.302v-.857c0-.116.046-.216.138-.301a.465.465 0 01.326-.127h9.286c.126 0 .235.042.326.127a.397.397 0 01.138.301z",fill:"#0C75AF"}))}var Ke=o(74525),qe=Object.defineProperty,at=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,re=(Z,C,M)=>C in Z?qe(Z,C,{enumerable:!0,configurable:!0,writable:!0,value:M}):Z[C]=M,dt=(Z,C)=>{for(var M in C||(C={}))ke.call(C,M)&&re(Z,M,C[M]);if(at)for(var M of at(C))te.call(C,M)&&re(Z,M,C[M]);return Z};function bt(Z){return a.createElement("svg",dt({width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Z),a.createElement("path",{d:"M.5 3A2.5 2.5 0 013 .5h26A2.5 2.5 0 0131.5 3v18a2.5 2.5 0 01-2.5 2.5H3A2.5 2.5 0 01.5 21V3z",fill:"#FDF4DC",stroke:"#FAE7B9"}),a.createElement("path",{d:"M20.158 11.995c0-.591-.463-1.073-1.045-1.11H13.53V9.245a2.05 2.05 0 012.046-2.049c1.13 0 2.048.784 2.049 1.913 0 .24.194.433.433.433h.33a.433.433 0 00.433-.433C18.82 7.32 17.365 5.999 15.577 6a3.246 3.246 0 00-3.241 3.244v1.642h-.223c-.615 0-1.113.499-1.113 1.114v4.887c.001.615.5 1.113 1.115 1.113l6.93-.003c.616 0 1.114-.5 1.114-1.115l-.001-4.887z",fill:"#D9822F"}))}var yt=o(48394),jt=Object.defineProperty,ht=Object.getOwnPropertySymbols,ut=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable,fe=(Z,C,M)=>C in Z?jt(Z,C,{enumerable:!0,configurable:!0,writable:!0,value:M}):Z[C]=M,D=(Z,C)=>{for(var M in C||(C={}))ut.call(C,M)&&fe(Z,M,C[M]);if(ht)for(var M of ht(C))Be.call(C,M)&&fe(Z,M,C[M]);return Z};function X(Z){return a.createElement("svg",D({width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Z),a.createElement("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#0C75AF",stroke:"#0C75AF"}),a.createElement("path",{d:"M8.523 13.586c.106 1.64 1.418 2.63 3.34 2.63 2.098 0 3.516-1.113 3.516-2.788 0-1.143-.65-1.846-2.086-2.297l-.867-.27c-.797-.252-1.137-.597-1.137-1.066 0-.598.633-1.031 1.459-1.031.873 0 1.512.474 1.617 1.183h1.67c-.053-1.54-1.36-2.619-3.217-2.619-1.91 0-3.328 1.131-3.328 2.678 0 1.09.715 1.922 1.963 2.309l.879.275c.914.287 1.266.592 1.266 1.084 0 .662-.657 1.107-1.606 1.107-.914 0-1.635-.469-1.758-1.195h-1.71zM20.107 16l1.489-6.943h2.531l.31-1.512h-6.843l-.31 1.512h2.53L18.326 16h1.781z",fill:"#fff"}))}var se=o(21210),Se=o(3963),Ee=o(31666),Zt=o(68547),$e=Object.defineProperty,Nt=Object.defineProperties,ye=Object.getOwnPropertyDescriptors,Et=Object.getOwnPropertySymbols,Ye=Object.prototype.hasOwnProperty,Tt=Object.prototype.propertyIsEnumerable,rt=(Z,C,M)=>C in Z?$e(Z,C,{enumerable:!0,configurable:!0,writable:!0,value:M}):Z[C]=M,Dt=(Z,C)=>{for(var M in C||(C={}))Ye.call(C,M)&&rt(Z,M,C[M]);if(Et)for(var M of Et(C))Tt.call(C,M)&&rt(Z,M,C[M]);return Z},Ct=(Z,C)=>Nt(Z,ye(C)),De=(Z,C)=>{var M={};for(var Le in Z)Ye.call(Z,Le)&&C.indexOf(Le)<0&&(M[Le]=Z[Le]);if(Z!=null&&Et)for(var Le of Et(Z))C.indexOf(Le)<0&&Tt.call(Z,Le)&&(M[Le]=Z[Le]);return M};const wt={biginteger:Ee.Z,boolean:H.Z,collectionType:_,component:Y.Z,contentType:_,date:G.Z,datetime:G.Z,decimal:Ee.Z,dynamiczone:Q.Z,email:me.Z,enum:ie.Z,enumeration:ie.Z,file:Ke.Z,files:Ke.Z,float:Ee.Z,integer:Ee.Z,json:xe.Z,JSON:xe.Z,media:Ke.Z,number:Ee.Z,password:bt,relation:yt.Z,richtext:We,singleType:X,string:se.Z,text:se.Z,time:G.Z,timestamp:G.Z,uid:Se.Z},Bt=(0,g.default)(v.x)`
  width: ${(0,Zt.pxToRem)(32)};
  height: ${(0,Zt.pxToRem)(24)};
  box-sizing: content-box;
`,ct=Z=>{var C=Z,{type:M,customField:Le}=C,Xt=De(C,["type","customField"]);const Ie=(0,Zt.useCustomFields)();let vt=wt[M];if(Le){const{icon:Je}=Ie.get(Le);Je&&(vt=Je)}return wt[M]?a.createElement(Bt,Ct(Dt({as:vt},Xt),{"aria-hidden":!0})):null};ct.defaultProps={customField:null},ct.propTypes={type:h().string.isRequired,customField:h().string};const Ht=ct},7955:(ae,ee,o)=>{"use strict";o.d(ee,{Z:()=>I});var a=o(67294);const I=(0,a.createContext)()},98422:(ae,ee,o)=>{"use strict";o.d(ee,{Z:()=>I});var a=o(67294);const I=(0,a.createContext)()},13588:(ae,ee,o)=>{"use strict";o.d(ee,{Z:()=>h});var a=o(67294),g=o(7955);const h=()=>(0,a.useContext)(g.Z)},26478:(ae,ee,o)=>{"use strict";o.d(ee,{Z:()=>h});var a=o(67294),g=o(98422);const h=()=>(0,a.useContext)(g.Z)},93367:(ae,ee,o)=>{"use strict";o.r(ee),o.d(ee,{default:()=>hd});var a=o(67294),g=o(49656),I=o(15482),h=o(97132),v=o(68547),Y=o(17034),j=o(57176),O=o(96124),W=o(45697),r=o.n(W),E=o(96486),J=o(37424),_=o(35281),G=o(7955),H=o(26478),Q=o(78648),me=(e,t,n)=>new Promise((i,s)=>{var d=m=>{try{c(n.next(m))}catch(y){s(y)}},u=m=>{try{c(n.throw(m))}catch(y){s(y)}},c=m=>m.done?i(m.value):Promise.resolve(m.value).then(d,u);c((n=n.apply(e,t)).next())});const ie=Q.Z.create({baseURL:`/${O.Z}`});ie.interceptors.request.use(e=>me(void 0,null,function*(){return e.headers={Authorization:`Bearer ${v.auth.getToken()}`,Accept:"application/json","Content-Type":"application/json"},e}),e=>{Promise.reject(e)}),ie.interceptors.response.use(e=>e,e=>{var t;throw((t=e.response)==null?void 0:t.status)===401&&(v.auth.clearAppStorage(),window.location.reload()),e});const P=(0,v.wrapAxiosInstance)(ie);var l=o(5002),b=o(85169),q=o(27361),A=o.n(q),Ce=o(18721),We=o.n(Ce),Ke=o(36968),qe=o.n(Ke),at=o(7334),ke=o.n(at),te=o(35961),re=o(29728),dt=o(70004),bt=o(42866),yt=o(59946),jt=o(36856),ht=o(82777),ut=o(60633),Be=o(42761),fe=o(46273),D=o(7681),X=o(13588),se=o(38953),Se=o(11700),Ee=o.n(Se);const Zt=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],$e=({intlLabel:e,name:t,onChange:n,value:i})=>{const{formatMessage:s}=(0,h.useIntl)(),d=i===null||i.length===0?s({id:"global.none",defaultMessage:"None"}):[...i].sort().map(c=>Ee()(c)).join(", "),u=e.id?s({id:e.id,defaultMessage:e.defaultMessage}):t;return a.createElement(se.Q,{id:"select1",label:u,customizeContent:()=>d,onChange:c=>{c.length>0?n({target:{name:t,value:c,type:"allowed-types-select"}}):n({target:{name:t,value:null,type:"allowed-types-select"}})},options:Zt,value:i||[]})};$e.defaultProps={value:null},$e.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().oneOfType([r().object,r().array])};const Nt=$e;var ye=o(72735);const Ye=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0);var Tt=o(11276),rt=o(74571),Dt=o(17373),Ct=o(66848),De=o(27821);const Bt=(0,De.default)(te.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,ct=({type:e})=>{const{formatMessage:t}=(0,h.useIntl)(),{onClickSelectField:n}=(0,H.Z)(),i=()=>{n({attributeType:e,step:e==="component"?"1":null})};return a.createElement(Bt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:i},a.createElement(fe.k,null,a.createElement(Ct.Z,{type:e}),a.createElement(te.x,{paddingLeft:4},a.createElement(fe.k,null,a.createElement(ye.Z,{fontWeight:"bold"},t({id:(0,l.Z)(`attribute.${e}`),defaultMessage:e}))),a.createElement(fe.k,null,a.createElement(ye.Z,{variant:"pi",textColor:"neutral600"},t({id:(0,l.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};ct.defaultProps={type:"text"},ct.propTypes={type:r().string};const Ht=ct,C=e=>{const t=e%2===1;return{paddingLeft:t?2:0,paddingRight:t?0:2}},M=({attributes:e})=>a.createElement(Dt.k,{tagName:"button"},a.createElement(D.K,{spacing:8},e.map((t,n)=>a.createElement(Tt.r,{key:n,gap:0},t.map((i,s)=>{const{paddingLeft:d,paddingRight:u}=C(s);return a.createElement(rt.P,{key:i,col:6,style:{height:"100%"}},a.createElement(te.x,{paddingLeft:d,paddingRight:u,paddingBottom:1,style:{height:"100%"}},a.createElement(Ht,{type:i})))})))));M.propTypes={attributes:r().array.isRequired};const Le=M;var Xt=o(23620),Ie=o(32064),vt=o(52624),Je=o(96315),Sn=o(86031);const Qe=(0,De.default)(te.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,on=()=>a.createElement(fe.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,t)=>a.createElement(Qe,{key:`empty-card-${t}`,height:"138px",width:"375px",hasRadius:!0}))),Fn=()=>{const{formatMessage:e}=(0,h.useIntl)();return a.createElement(te.x,{position:"relative"},a.createElement(on,null),a.createElement(te.x,{position:"absolute",top:6,width:"100%"},a.createElement(fe.k,{alignItems:"center",justifyContent:"center",direction:"column"},a.createElement(vt.J,{as:Sn.default,color:"",width:"160px",height:"88px"}),a.createElement(te.x,{paddingTop:6,paddingBottom:4},a.createElement(te.x,{textAlign:"center"},a.createElement(ye.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,l.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),a.createElement(te.x,{paddingTop:4},a.createElement(ye.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,l.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),a.createElement(Ie.Q,{to:"/marketplace",variant:"secondary",startIcon:a.createElement(Je.default,null)},e({id:(0,l.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},je=({customFieldUid:e,customField:t})=>{const{type:n,intlLabel:i,intlDescription:s}=t,{formatMessage:d}=(0,h.useIntl)(),{onClickSelectCustomField:u}=(0,H.Z)(),c=()=>{u({attributeType:n,customFieldUid:e})};return a.createElement(Bt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:c},a.createElement(fe.k,null,a.createElement(Ct.Z,{type:n,customField:e}),a.createElement(te.x,{paddingLeft:4},a.createElement(fe.k,null,a.createElement(ye.Z,{fontWeight:"bold"},d(i))),a.createElement(fe.k,null,a.createElement(ye.Z,{variant:"pi",textColor:"neutral600"},d(s))))))};je.propTypes={customFieldUid:r().string.isRequired,customField:r().shape({type:r().string.isRequired,icon:r().func,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,intlDescription:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired}).isRequired};const $t=je,zt=()=>{const{formatMessage:e}=(0,h.useIntl)(),t=(0,v.useCustomFields)(),n=Object.entries(t.getAll());if(!n.length)return a.createElement(Fn,null);const i=n.sort((s,d)=>s[1].name>d[1].name?1:-1);return a.createElement(Dt.k,{tagName:"button"},a.createElement(D.K,{spacing:3},a.createElement(Tt.r,{gap:0},i.map(([s,d],u)=>{const{paddingLeft:c,paddingRight:m}=C(u);return a.createElement(rt.P,{key:s,col:6,style:{height:"100%"}},a.createElement(te.x,{paddingLeft:c,paddingRight:m,paddingBottom:1,style:{height:"100%"}},a.createElement($t,{key:s,customFieldUid:s,customField:d})))})),a.createElement(Xt.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,l.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},Ot=({attributes:e,forTarget:t,kind:n})=>{const{formatMessage:i}=(0,h.useIntl)(),s=(0,l.Z)("modalForm.tabs.default"),d=(0,l.Z)("modalForm.tabs.custom"),u=t.includes("component")?"component":n,c=(0,l.Z)(`modalForm.sub-header.chooseAttribute.${u}`);return a.createElement(yt.f,{padding:6},a.createElement(ht.v,{label:i({id:(0,l.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},a.createElement(fe.k,{justifyContent:"space-between"},a.createElement(ye.Z,{variant:"beta",as:"h2"},i({id:c,defaultMessage:"Select a field"})),a.createElement(ut.m,null,a.createElement(ut.O,null,i({id:s,defaultMessage:"Default"})),a.createElement(ut.O,null,i({id:d,defaultMessage:"Custom"})))),a.createElement(te.x,{paddingBottom:6},a.createElement(dt.i,null)),a.createElement(Be.n,null,a.createElement(Be.x,null,a.createElement(Le,{attributes:e})),a.createElement(Be.x,null,a.createElement(zt,null)))))};Ot.propTypes={attributes:r().array.isRequired,forTarget:r().string.isRequired,kind:r().string.isRequired};const sn=Ot;var Zn=o(47149),ln=o(47824),Ge=o(98426),dn=o(20707),Nn=o(51277),un=Object.defineProperty,cn=Object.getOwnPropertySymbols,Dn=Object.prototype.hasOwnProperty,Ln=Object.prototype.propertyIsEnumerable,mt=(e,t,n)=>t in e?un(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mn=(e,t)=>{for(var n in t||(t={}))Dn.call(t,n)&&mt(e,n,t[n]);if(cn)for(var n of cn(t))Ln.call(t,n)&&mt(e,n,t[n]);return e};const pn=(0,De.default)(ye.Z)`
  text-align: center;
`,It=({description:e,disabled:t,intlLabel:n,isCreating:i,name:s,onChange:d,value:u})=>{const{formatMessage:c}=(0,h.useIntl)(),[m,y]=(0,a.useState)(!1),f=n.id?c({id:n.id,defaultMessage:n.defaultMessage},mn({},n.values)):s,p=e?c({id:e.id,defaultMessage:e.defaultMessage},mn({},e.values)):"",F=()=>y(U=>!U),S=()=>{d({target:{name:s,value:!1}}),F()},L=({target:{checked:U}})=>{if(!U&&!i){F();return}d({target:{name:s,value:U}})};return a.createElement(a.Fragment,null,a.createElement(dn.s,{checked:u||!1,disabled:t,hint:p,label:f,name:s,offLabel:c({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:c({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:L}),m&&a.createElement(Zn.V,{onClose:F,title:"Confirmation",isOpen:m},a.createElement(ln.a,{icon:a.createElement(Nn.default,null)},a.createElement(D.K,{spacing:2},a.createElement(fe.k,{justifyContent:"center"},a.createElement(pn,{id:"confirm-description"},c({id:(0,l.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the Draft/Publish system, your drafts will be deleted."}))),a.createElement(fe.k,{justifyContent:"center"},a.createElement(ye.Z,{id:"confirm-description"},c({id:(0,l.Z)("popUpWarning.draft-publish.second-message"),defaultMessage:"Are you sure you want to disable it?"}))))),a.createElement(Ge.c,{startAction:a.createElement(re.z,{onClick:F,variant:"tertiary"},c({id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"})),endAction:a.createElement(re.z,{variant:"danger-light",onClick:S},c({id:(0,l.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}))})))};It.defaultProps={description:null,disabled:!1,value:!1},It.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),disabled:r().bool,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,isCreating:r().bool.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().bool};const pt=It;var Yt=o(2407),fn=o(24969);const Jt=({actionType:e,attributeName:t,attributeType:n,categoryName:i,contentTypeKind:s,dynamicZoneTarget:d,forTarget:u,modalType:c,targetUid:m,customFieldUid:y})=>{var f;const{formatMessage:p}=(0,h.useIntl)(),{modifiedData:F}=(0,X.Z)();let S,L=[];const U=((f=F==null?void 0:F[u])==null?void 0:f[m])||(F==null?void 0:F[u])||null;let ne=U==null?void 0:U.schema.displayName;if(c==="contentType"&&(S=s),["component","editCategory"].includes(c)&&(S="component"),["component","contentType"].includes(c)){let R=(0,l.Z)(`modalForm.component.header-${e}`);return c==="contentType"&&(R=(0,l.Z)(`modalForm.${s}.header-create`)),e==="edit"&&(R=(0,l.Z)("modalForm.header-edit")),a.createElement(fn.x,null,a.createElement(fe.k,null,a.createElement(te.x,null,a.createElement(Ct.Z,{type:S})),a.createElement(te.x,{paddingLeft:3},a.createElement(ye.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},p({id:R},{name:ne})))))}L=[{label:ne,info:{category:(U==null?void 0:U.category)||null,name:U==null?void 0:U.schema.displayName}}],c==="chooseAttribute"&&(S=["component","components"].includes(u)?"component":U.schema.kind),c==="addComponentToDynamicZone"&&(S="dynamiczone",L.push({label:d})),(c==="attribute"||c==="customField")&&(S=n,L.push({label:t})),c==="editCategory"&&(L=[{label:p({id:(0,l.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:i}]);const k=L.map(({label:R})=>R).join(",");return a.createElement(fn.x,null,a.createElement(D.K,{horizontal:!0,spacing:3},a.createElement(Ct.Z,{type:S,customField:y}),a.createElement(Yt.O,{label:k},L.map((R,de)=>{var pe;const ve=Ee()(R.label);if(!ve)return null;const K=`${R.label}.${de}`;if((pe=R.info)!=null&&pe.category){const ue=`${ve} (${Ee()(R.info.category)} - ${Ee()(R.info.name)})`;return a.createElement(Yt.$,{key:K},ue)}return a.createElement(Yt.$,{key:K},ve)}))))};Jt.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},Jt.propTypes={actionType:r().string,attributeName:r().string,attributeType:r().string,categoryName:r().string,contentTypeKind:r().string,dynamicZoneTarget:r().string,forTarget:r().oneOf(["contentType","component","components"]),modalType:r().string.isRequired,targetUid:r().string,customFieldUid:r().string};const In=Jt,Qt=({categoryName:e,deleteCategory:t,deleteComponent:n,deleteContentType:i,isAttributeModal:s,isCustomFieldModal:d,isComponentAttribute:u,isComponentToDzModal:c,isContentTypeModal:m,isCreatingComponent:y,isCreatingComponentAttribute:f,isCreatingComponentInDz:p,isCreatingComponentWhileAddingAField:F,isCreatingContentType:S,isCreatingDz:L,isComponentModal:U,isDzAttribute:ne,isEditingAttribute:w,isEditingCategory:k,isInFirstComponentStep:R,onSubmitAddComponentAttribute:de,onSubmitAddComponentToDz:pe,onSubmitCreateContentType:ve,onSubmitCreateComponent:K,onSubmitCreateDz:ue,onSubmitEditAttribute:ge,onSubmitEditCategory:xt,onSubmitEditComponent:be,onSubmitEditContentType:Rt,onSubmitEditCustomFieldAttribute:_e,onSubmitEditDz:ce,onClickFinish:Re})=>{const{formatMessage:he}=(0,h.useIntl)();return c?p?a.createElement(re.z,{variant:"secondary",type:"submit",onClick:B=>{B.preventDefault(),pe(B,!0)},startIcon:a.createElement(Je.default,null)},he({id:(0,l.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):a.createElement(re.z,{variant:"default",type:"submit",onClick:B=>{B.preventDefault(),pe(B,!1)}},he({id:"global.finish",defaultMessage:"Finish"})):s&&ne&&!L?a.createElement(re.z,{variant:"default",type:"submit",onClick:B=>{B.preventDefault(),Re(),ce(B,!1)}},he({id:"global.finish",defaultMessage:"Finish"})):s&&ne&&L?a.createElement(a.Fragment,null,a.createElement(re.z,{variant:"secondary",type:"submit",onClick:B=>{B.preventDefault(),ue(B,!0)},startIcon:a.createElement(Je.default,null)},he({id:(0,l.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):s&&u?R?a.createElement(re.z,{variant:"secondary",type:"submit",onClick:B=>{B.preventDefault(),de(B,!0)}},he(f?{id:(0,l.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,l.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):a.createElement(a.Fragment,null,a.createElement(re.z,{variant:"secondary",type:"submit",onClick:B=>{B.preventDefault(),de(B,!0)},startIcon:a.createElement(Je.default,null)},he(F?{id:(0,l.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,l.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(re.z,{variant:"default",type:"button",onClick:B=>{B.preventDefault(),Re(),de(B,!1)}},he({id:"global.finish",defaultMessage:"Finish"}))):s&&!u&&!ne?a.createElement(a.Fragment,null,a.createElement(re.z,{type:w?"button":"submit",variant:"secondary",onClick:B=>{B.preventDefault(),ge(B,!0)},startIcon:a.createElement(Je.default,null)},he({id:(0,l.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(re.z,{type:w?"submit":"button",variant:"default",onClick:B=>{B.preventDefault(),Re(),ge(B,!1)}},he({id:"global.finish",defaultMessage:"Finish"}))):m?a.createElement(a.Fragment,null,!S&&a.createElement(a.Fragment,null,a.createElement(re.z,{type:"button",variant:"danger",onClick:B=>{B.preventDefault(),i()}},he({id:"global.delete",defaultMessage:"Delete"})),a.createElement(re.z,{type:"submit",variant:"default",onClick:B=>{B.preventDefault(),Rt(B,!1)}},he({id:"global.finish",defaultMessage:"Finish"}))),S&&a.createElement(re.z,{type:"submit",variant:"secondary",onClick:B=>{B.preventDefault(),ve(B,!0)}},he({id:"global.continue",defaultMessage:"Continue"}))):U?a.createElement(a.Fragment,null,!y&&a.createElement(a.Fragment,null,a.createElement(re.z,{type:"button",variant:"danger",onClick:B=>{B.preventDefault(),n()}},he({id:"global.delete",defaultMessage:"Delete"})),a.createElement(re.z,{type:"submit",variant:"default",onClick:B=>{B.preventDefault(),be(B,!1)}},he({id:"global.finish",defaultMessage:"Finish"}))),y&&a.createElement(re.z,{type:"submit",variant:"secondary",onClick:B=>{B.preventDefault(),K(B,!0)}},he({id:"global.continue",defaultMessage:"Continue"}))):k?a.createElement(a.Fragment,null,a.createElement(re.z,{type:"button",variant:"danger",onClick:B=>{B.preventDefault(),t(e)}},he({id:"global.delete",defaultMessage:"Delete"})),a.createElement(re.z,{type:"submit",variant:"default",onClick:B=>{B.preventDefault(),xt(B)}},he({id:"global.finish",defaultMessage:"finish"}))):d?a.createElement(a.Fragment,null,a.createElement(re.z,{type:w?"button":"submit",variant:"secondary",onClick:B=>{B.preventDefault(),_e(B,!0)},startIcon:a.createElement(Je.default,null)},he({id:(0,l.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(re.z,{type:w?"submit":"button",variant:"default",onClick:B=>{B.preventDefault(),Re(),_e(B,!1)}},he({id:"global.finish",defaultMessage:"Finish"}))):null};Qt.defaultProps={categoryName:null,onClickFinish(){}},Qt.propTypes={categoryName:r().string,deleteCategory:r().func.isRequired,deleteComponent:r().func.isRequired,deleteContentType:r().func.isRequired,isAttributeModal:r().bool.isRequired,isCustomFieldModal:r().bool.isRequired,isComponentAttribute:r().bool.isRequired,isComponentModal:r().bool.isRequired,isComponentToDzModal:r().bool.isRequired,isContentTypeModal:r().bool.isRequired,isCreatingComponent:r().bool.isRequired,isCreatingComponentAttribute:r().bool.isRequired,isCreatingComponentInDz:r().bool.isRequired,isCreatingComponentWhileAddingAField:r().bool.isRequired,isCreatingContentType:r().bool.isRequired,isCreatingDz:r().bool.isRequired,isDzAttribute:r().bool.isRequired,isEditingAttribute:r().bool.isRequired,isEditingCategory:r().bool.isRequired,isInFirstComponentStep:r().bool.isRequired,onSubmitAddComponentAttribute:r().func.isRequired,onSubmitAddComponentToDz:r().func.isRequired,onSubmitCreateContentType:r().func.isRequired,onSubmitCreateComponent:r().func.isRequired,onSubmitCreateDz:r().func.isRequired,onSubmitEditAttribute:r().func.isRequired,onSubmitEditCategory:r().func.isRequired,onSubmitEditComponent:r().func.isRequired,onSubmitEditContentType:r().func.isRequired,onSubmitEditCustomFieldAttribute:r().func.isRequired,onSubmitEditDz:r().func.isRequired,onClickFinish:r().func};const le=Qt,Ne=({modalType:e,forTarget:t,kind:n,actionType:i,step:s})=>{switch(e){case"chooseAttribute":return(0,l.Z)(`modalForm.sub-header.chooseAttribute.${t.includes("component")?"component":n||"collectionType"}`);case"attribute":return(0,l.Z)(`modalForm.sub-header.attribute.${i}${s!=="null"&&s!==null&&i!=="edit"?".step":""}`);case"customField":return(0,l.Z)(`modalForm.sub-header.attribute.${i}`);case"addComponentToDynamicZone":return(0,l.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,l.Z)("configurations")}},ft=({actionType:e,modalType:t,forTarget:n,kind:i,step:s,attributeType:d,attributeName:u,customField:c})=>{const{formatMessage:m}=(0,h.useIntl)(),y=t==="customField"?c.intlLabel:{id:(0,l.Z)(`attribute.${d}`)};return a.createElement(D.K,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},a.createElement(ye.Z,{as:"h2",variant:"beta"},m({id:Ne({actionType:e,forTarget:n,kind:i,step:s,modalType:t}),defaultMessage:"Add new field"},{type:Ee()(m(y)),name:Ee()(u),step:s})),a.createElement(ye.Z,{variant:"pi",textColor:"neutral600"},m({id:(0,l.Z)(`attribute.${d}.description`),defaultMessage:"A type for modeling data"})))};ft.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},ft.propTypes={actionType:r().string,modalType:r().string,forTarget:r().string,kind:r().string,step:r().string,attributeType:r().string,attributeName:r().string,customField:r().object};const Ro=ft;var gn=o(91216),yn=o(82562),Ao=Object.defineProperty,Aa=Object.getOwnPropertySymbols,So=Object.prototype.hasOwnProperty,Fo=Object.prototype.propertyIsEnumerable,Sa=(e,t,n)=>t in e?Ao(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zo=(e,t)=>{for(var n in t||(t={}))So.call(t,n)&&Sa(e,n,t[n]);if(Aa)for(var n of Aa(t))Fo.call(t,n)&&Sa(e,n,t[n]);return e};const jn=({intlLabel:e,name:t,options:n,onChange:i,value:s})=>{const{formatMessage:d}=(0,h.useIntl)(),u=e.id?d({id:e.id,defaultMessage:e.defaultMessage},Zo({},e.values)):t,c=m=>{let y="";m==="true"&&(y=!0),m==="false"&&(y=!1),i({target:{name:t,value:y,type:"select-default-boolean"}})};return a.createElement(gn.P,{label:u,id:t,name:t,onChange:c,value:(s===null?"":s).toString()},n.map(({metadatas:{intlLabel:m,disabled:y,hidden:f},key:p,value:F})=>a.createElement(yn.W,{key:p,value:F,disabled:y,hidden:f},m.defaultMessage)))};jn.defaultProps={value:null},jn.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().any};const No=jn;var Do=o(15585);const Lo=(0,De.default)(D.K)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Do.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${ye.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,wn=({intlLabel:e,name:t,onChange:n,radios:i,value:s})=>{const{formatMessage:d}=(0,h.useIntl)();return a.createElement(D.K,{spacing:2},a.createElement(ye.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:t,as:"label"},d(e)),a.createElement(Lo,{horizontal:!0,spacing:4,style:{alignItems:"stretch"}},i.map(u=>a.createElement("label",{htmlFor:u.value.toString(),key:u.value,className:"container"},a.createElement("input",{id:u.value.toString(),name:t,className:"option-input",checked:u.value===s,value:u.value,key:u.value,onChange:n,type:"radio"}),a.createElement(te.x,{className:"option",padding:4},a.createElement(fe.k,null,a.createElement(te.x,{paddingRight:4},a.createElement("span",{className:"checkmark"})),a.createElement(D.K,{spacing:2},a.createElement(ye.Z,{fontWeight:"bold"},d(u.title)),a.createElement(ye.Z,{variant:"pi",textColor:"neutral600"},d(u.description)))))))))};wn.defaultProps={radios:[]},wn.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,radios:r().arrayOf(r().shape({title:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}),description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}),value:r().any.isRequired})),value:r().oneOfType([r().string,r().bool]).isRequired};const Bn=wn;var Io=Object.defineProperty,jo=Object.defineProperties,wo=Object.getOwnPropertyDescriptors,vn=Object.getOwnPropertySymbols,Fa=Object.prototype.hasOwnProperty,Za=Object.prototype.propertyIsEnumerable,Na=(e,t,n)=>t in e?Io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bo=(e,t)=>{for(var n in t||(t={}))Fa.call(t,n)&&Na(e,n,t[n]);if(vn)for(var n of vn(t))Za.call(t,n)&&Na(e,n,t[n]);return e},$o=(e,t)=>jo(e,wo(t)),zo=(e,t)=>{var n={};for(var i in e)Fa.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&vn)for(var i of vn(e))t.indexOf(i)<0&&Za.call(e,i)&&(n[i]=e[i]);return n};const Da=e=>{var t=e,{onChange:n,name:i}=t,s=zo(t,["onChange","name"]);const d=u=>{const c=u.target.value!=="false";n({target:{name:i,value:c,type:"boolean-radio-group"}})};return a.createElement(Bn,$o(Bo({},s),{name:i,onChange:d}))};Da.propTypes={name:r().string.isRequired,onChange:r().func.isRequired};const Uo=Da;var Wo=o(36213),$n=o(12645),La=o(99216),qo=o(54574),ko=o(64777),Vo=o(45377),Ko=o(63428),Go=o(96404),Ho=o(75228),Ia=o(41762),ja=o(7801);const wa="en-EN",Xo=()=>typeof navigator=="undefined"?wa:navigator.language?navigator.language:navigator.userLanguage?navigator.userLanguage:wa;var Ba=o(98402);function Yo({prop:e,defaultProp:t,onChange:n=()=>{}}){const[i,s]=Jo({defaultProp:t,onChange:n}),d=e!==void 0,u=typeof e=="function"?e(i):e,c=d?u:i,m=(0,Ba.useCallbackRef)(n),y=a.useCallback(f=>{if(d){const p=typeof f=="function"?f(u):f;p!==u&&(m(p),s(f))}else s(f)},[d,u,s,m]);return[c,y]}function Jo({defaultProp:e,onChange:t}){const n=a.useState(e),[i]=n,s=a.useRef(i),d=(0,Ba.useCallbackRef)(t);return a.useEffect(()=>{s.current!==i&&(d(i),s.current=i)},[i,s,d]),n}var Qo=Object.defineProperty,bn=Object.getOwnPropertySymbols,$a=Object.prototype.hasOwnProperty,za=Object.prototype.propertyIsEnumerable,Ua=(e,t,n)=>t in e?Qo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_o=(e,t)=>{for(var n in t||(t={}))$a.call(t,n)&&Ua(e,n,t[n]);if(bn)for(var n of bn(t))za.call(t,n)&&Ua(e,n,t[n]);return e},ei=(e,t)=>{var n={};for(var i in e)$a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&bn)for(var i of bn(e))t.indexOf(i)<0&&za.call(e,i)&&(n[i]=e[i]);return n};const Wa=De.default.button`
  display: flex;
  height: 1rem;
  align-items: ${({reverse:e})=>e?"flex-end":"flex-start"};
  transform: translateY(${({reverse:e})=>e?"-2px":"2px"});
  cursor: ${({disabled:e})=>e?"not-allowed":void 0};
  svg {
    display: block;
    height: ${4/16}rem;
    transform: ${({reverse:e})=>e?"rotateX(180deg)":void 0};
  }
`,ti="",hn=a.forwardRef((e,t)=>{var n=e,{size:i,startAction:s,name:d,hint:u,error:c,label:m,labelAction:y,locale:f,id:p,onValueChange:F,value:S,step:L,required:U,disabled:ne}=n,w=ei(n,["size","startAction","name","hint","error","label","labelAction","locale","id","onValueChange","value","step","required","disabled"]);const k=(0,Ia.M)("numberinput",p),R=f||Xo(),de=(0,a.useRef)(new La.NumberParser(R,{style:"decimal"})),pe=(0,a.useRef)(new La.NumberFormatter(R,{maximumFractionDigits:20})),[ve,K]=Yo({prop(ce){const Re=String(S);return isNaN(Re)||Re!==ce&&ce!==""?ce:Re},defaultProp:ti,onChange(ce){const Re=de.current.parse(ce);F(isNaN(Re)?void 0:Re)}}),ue=ce=>{K(String(ce))},ge=({target:{value:ce}})=>{de.current.isValidPartialNumber(ce)&&ue(ce)},xt=()=>{if(!ve){ue(L);return}const ce=de.current.parse(ve),Re=isNaN(ce)?L:ce+L;ue(pe.current.format(Re))},be=()=>{if(!ve){ue(-L);return}const ce=de.current.parse(ve),Re=isNaN(ce)?-L:ce-L;ue(pe.current.format(Re))},Rt=ce=>{if(!ne)switch(ce.key){case ja.y.DOWN:{ce.preventDefault(),be();break}case ja.y.UP:{ce.preventDefault(),xt();break}}},_e=()=>{if(ve){const ce=de.current.parse(ve),Re=isNaN(ce)?"":pe.current.format(ce);ue(Re)}};return a.createElement(qo.g,{name:d,hint:u,error:c,id:k,required:U},a.createElement(D.K,{spacing:1},m&&a.createElement(ko.Q,{action:y},m),a.createElement(Vo._,_o({ref:t,startAction:s,disabled:ne,type:"text",inputmode:"decimal",onChange:ge,onKeyDown:Rt,onBlur:_e,value:ve,size:i,endAction:a.createElement(a.Fragment,null,a.createElement(Wa,{disabled:ne,"aria-hidden":!0,reverse:!0,onClick:xt,tabIndex:-1,type:"button","data-testid":"ArrowUp"},a.createElement(vt.J,{as:$n.default,color:"neutral500"})),a.createElement(Wa,{disabled:ne,"aria-hidden":!0,onClick:be,tabIndex:-1,type:"button","data-testid":"ArrowDown"},a.createElement(vt.J,{as:$n.default,color:"neutral500"})))},w)),a.createElement(Ko.J,null),a.createElement(Go.c,null)))});hn.displayName="NumberInput",hn.defaultProps={"aria-label":void 0,disabled:!1,error:void 0,hint:void 0,id:void 0,label:void 0,labelAction:void 0,locale:void 0,required:!1,size:"M",startAction:void 0,step:1,value:void 0},hn.propTypes={"aria-label":W.string,disabled:W.bool,error:W.string,hint:W.oneOfType([W.string,W.node,W.arrayOf(W.node)]),id:W.string,label:W.string,labelAction:W.element,locale:W.string,name:W.string.isRequired,onValueChange:W.func.isRequired,required:W.bool,size:W.oneOf(Object.keys(Ho.J.input)),startAction:W.element,step:W.number,value:W.number};var zn=o(16364),ni=Object.defineProperty,qa=Object.getOwnPropertySymbols,ai=Object.prototype.hasOwnProperty,ri=Object.prototype.propertyIsEnumerable,ka=(e,t,n)=>t in e?ni(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oi=(e,t)=>{for(var n in t||(t={}))ai.call(t,n)&&ka(e,n,t[n]);if(qa)for(var n of qa(t))ri.call(t,n)&&ka(e,n,t[n]);return e};const Un=({error:e,intlLabel:t,modifiedData:n,name:i,onChange:s,value:d})=>{const{formatMessage:u}=(0,h.useIntl)(),[c,m]=(0,a.useState)(!!d||d===0),y=t.id?u({id:t.id,defaultMessage:t.defaultMessage},oi({},t.values)):i,f=n.type==="biginteger"?"text":"number",p=!n.type,F=e?u({id:e,defaultMessage:e}):"";return a.createElement(D.K,{spacing:2},a.createElement(Wo.X,{id:i,name:i,onValueChange:S=>{s({target:{name:i,value:S?f==="text"?"0":0:null}}),m(ne=>!ne)},value:c},y),c&&a.createElement(te.x,{paddingLeft:6,style:{maxWidth:"200px"}},f==="text"?a.createElement(zn.o,{"aria-label":y,disabled:p,error:F,id:i,name:i,onChange:s,value:d===null?"":d}):a.createElement(hn,{"aria-label":y,disabled:p,error:F,id:i,name:i,onValueChange:S=>{s({target:{name:i,value:S,type:f}})},value:d||0})))};Un.defaultProps={error:null,value:null},Un.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().oneOfType([r().string,r().object,r().bool,r().number])};const ii=Un;var si=Object.defineProperty,li=Object.defineProperties,di=Object.getOwnPropertyDescriptors,En=Object.getOwnPropertySymbols,Va=Object.prototype.hasOwnProperty,Ka=Object.prototype.propertyIsEnumerable,Ga=(e,t,n)=>t in e?si(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ui=(e,t)=>{for(var n in t||(t={}))Va.call(t,n)&&Ga(e,n,t[n]);if(En)for(var n of En(t))Ka.call(t,n)&&Ga(e,n,t[n]);return e},ci=(e,t)=>li(e,di(t)),mi=(e,t)=>{var n={};for(var i in e)Va.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&En)for(var i of En(e))t.indexOf(i)<0&&Ka.call(e,i)&&(n[i]=e[i]);return n};const Ha=e=>{var t=e,{onChange:n}=t,i=mi(t,["onChange"]);const s=(0,v.useNotification)(),d=u=>{s({type:"info",message:{id:(0,l.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),n(u)};return a.createElement(Bn,ci(ui({},i),{onChange:d}))};Ha.propTypes={onChange:r().func.isRequired};const pi=Ha;var Wn=o(1734),Xa=o(17205),Fe=o(59015);const qn=({oneThatIsCreatingARelationWithAnother:e,target:t})=>{const{contentTypes:n,sortedContentTypesList:i}=(0,X.Z)(),s=(0,J.useDispatch)(),d=i.filter(Ye),u=A()(n,[t,"plugin"],null),c=A()(n,[t,"schema","displayName"],"error");return a.createElement(Xa.O,{id:"label",label:`${c}
    ${u?`(from: ${u})`:""}`},d.map(({uid:m,title:y,restrictRelationsTo:f,plugin:p})=>{const F=()=>{const S=p?`${p}_${y}`:y;s({type:Fe.aG,target:{value:m,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:S,targetContentTypeAllowedRelations:f}})};return a.createElement(Xa.s,{key:m,onClick:F},y,"\xA0",p&&a.createElement(a.Fragment,null,"(from: ",p,")"))}))};qn.defaultProps={target:null},qn.propTypes={oneThatIsCreatingARelationWithAnother:r().string.isRequired,target:r().string};const fi=qn,kn=({disabled:e,error:t,header:n,isMain:i,name:s,onChange:d,oneThatIsCreatingARelationWithAnother:u,target:c,value:m})=>a.createElement(te.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},a.createElement(fe.k,{paddingTop:i?4:1,paddingBottom:i?3:1,justifyContent:"center"},i?a.createElement(ye.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},n):a.createElement(fi,{target:c,oneThatIsCreatingARelationWithAnother:u})),a.createElement(dt.i,{background:"neutral200"}),a.createElement(te.x,{padding:4},a.createElement(v.GenericInput,{disabled:e,error:(t==null?void 0:t.id)||null,intlLabel:{id:(0,l.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:s,onChange:d,type:"text",value:m})));kn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},kn.propTypes={disabled:r().bool,error:r().object,header:r().string,isMain:r().bool,name:r().string.isRequired,onChange:r().func,oneThatIsCreatingARelationWithAnother:r().string,target:r().string,value:r().string};const Ya=kn;var gi=o(39138),Ja=o.n(gi),yi=o(23450),Vn=o.n(yi),vi=Object.defineProperty,Qa=Object.getOwnPropertySymbols,bi=Object.prototype.hasOwnProperty,hi=Object.prototype.propertyIsEnumerable,_a=(e,t,n)=>t in e?vi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ei=(e,t)=>{for(var n in t||(t={}))bi.call(t,n)&&_a(e,n,t[n]);if(Qa)for(var n of Qa(t))hi.call(t,n)&&_a(e,n,t[n]);return e};function Ti(e){return a.createElement("svg",Ei({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 14a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),a.createElement("path",{d:"M6.24 10.881H18v1.44H6.24v-1.44z",fill:"#212134"}))}var Ci=Object.defineProperty,er=Object.getOwnPropertySymbols,Mi=Object.prototype.hasOwnProperty,Oi=Object.prototype.propertyIsEnumerable,tr=(e,t,n)=>t in e?Ci(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pi=(e,t)=>{for(var n in t||(t={}))Mi.call(t,n)&&tr(e,n,t[n]);if(er)for(var n of er(t))Oi.call(t,n)&&tr(e,n,t[n]);return e};function xi(e){return a.createElement("svg",Pi({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.128 12.321a3.601 3.601 0 110-1.44H18.72v-2.4L24 11.6l-5.28 3.12v-2.4H7.128zM6 11.6a2.4 2.4 0 11-4.8 0 2.4 2.4 0 014.8 0z",fill:"#212134"}))}var Ri=Object.defineProperty,nr=Object.getOwnPropertySymbols,Ai=Object.prototype.hasOwnProperty,Si=Object.prototype.propertyIsEnumerable,ar=(e,t,n)=>t in e?Ri(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fi=(e,t)=>{for(var n in t||(t={}))Ai.call(t,n)&&ar(e,n,t[n]);if(nr)for(var n of nr(t))Si.call(t,n)&&ar(e,n,t[n]);return e};function Zi(e){return a.createElement("svg",Fi({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.132a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),a.createElement("path",{d:"M6.24 11.011h13.44v1.44H6.24v-1.44z",fill:"#212134"}),a.createElement("path",{d:"M5.872 10.43l8.347-6.176.86 1.163-8.347 6.176-.86-1.162zM5.9 13.087l8.346 6.177.864-1.168-8.347-6.176-.864 1.167zM18.72 8.613l5.28 3.12-5.28 3.12v-6.24z",fill:"#212134"}),a.createElement("path",{d:"M12.72 2.633L18.82 2 16.43 7.649 12.72 2.633zM12.72 21.307l6.1.633-2.389-5.649-3.711 5.016z",fill:"#212134"}))}var Ni=Object.defineProperty,rr=Object.getOwnPropertySymbols,Di=Object.prototype.hasOwnProperty,Li=Object.prototype.propertyIsEnumerable,or=(e,t,n)=>t in e?Ni(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ii=(e,t)=>{for(var n in t||(t={}))Di.call(t,n)&&or(e,n,t[n]);if(rr)for(var n of rr(t))Li.call(t,n)&&or(e,n,t[n]);return e};function ji(e){return a.createElement("svg",Ii({width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44z",fill:"#212134"}),a.createElement("path",{d:"M5.871 10.699l8.347-6.176.86 1.162-8.347 6.177-.86-1.163zM5.899 13.354l8.346 6.176.864-1.167-8.347-6.176-.863 1.167z",fill:"#212134"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.399a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 14.399a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM16.8 22.8a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM16.8 6a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}))}var wi=Object.defineProperty,ir=Object.getOwnPropertySymbols,Bi=Object.prototype.hasOwnProperty,$i=Object.prototype.propertyIsEnumerable,sr=(e,t,n)=>t in e?wi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zi=(e,t)=>{for(var n in t||(t={}))Bi.call(t,n)&&sr(e,n,t[n]);if(ir)for(var n of ir(t))$i.call(t,n)&&sr(e,n,t[n]);return e};function Ui(e){return a.createElement("svg",zi({width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{d:"M17.76 11.28H6v1.44h11.76v-1.44z",fill:"#212134"}),a.createElement("path",{d:"M18.129 10.699L9.782 4.523l-.86 1.162 8.347 6.177.86-1.163zM18.101 13.354L9.755 19.53l-.864-1.167 8.347-6.176.863 1.167z",fill:"#212134"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.399a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM3.6 14.399a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM7.2 22.8a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM7.2 6a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2z",fill:"#212134"}))}var Wi=Object.defineProperty,lr=Object.getOwnPropertySymbols,qi=Object.prototype.hasOwnProperty,ki=Object.prototype.propertyIsEnumerable,dr=(e,t,n)=>t in e?Wi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vi=(e,t)=>{for(var n in t||(t={}))qi.call(t,n)&&dr(e,n,t[n]);if(lr)for(var n of lr(t))ki.call(t,n)&&dr(e,n,t[n]);return e};function Ki(e){return a.createElement("svg",Vi({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.4a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM3.6 14.4a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 22.8a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 6a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),a.createElement("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44z",fill:"#212134"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 22.8a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM3.6 6a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2z",fill:"#212134"}),a.createElement("path",{d:"M18.328 13.863L6.49 19.765l-.652-1.307 11.838-5.902.652 1.307zM18.358 10.078L6.398 4.115l-.646 1.294 11.961 5.963.645-1.294z",fill:"#212134"}),a.createElement("path",{d:"M18.323 18.83L6.252 12.813l-.643 1.29 12.071 6.019.643-1.29zM18.136 5.228L6.207 11.176l-.653-1.311 11.928-5.948.654 1.311z",fill:"#212134"}))}const Gi=(0,De.default)(te.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Hi=(0,De.default)(te.x)`
  background: ${({theme:e,isSelected:t})=>e.colors[t?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,Xi=(0,De.default)(fe.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Yi={oneWay:xi,oneToOne:Ti,oneToMany:ji,manyToOne:Ui,manyToMany:Ki,manyWay:Zi},Kn=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:t,relationType:n,target:i})=>{const s=(0,J.useDispatch)(),{formatMessage:d}=(0,h.useIntl)(),{contentTypes:u,modifiedData:c}=(0,X.Z)(),m=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],y=["oneWay","manyWay"],p=(e==="contentType"?A()(c,[e,"schema","kind"],""):e)==="collectionType"?m:y,F=n==="manyToOne",S=A()(u,[i,"schema","displayName"],"unknown"),L=F?S:t,U=F?t:S,ne=Vn()(L,n==="manyToMany"?2:1),w=A()(u,[i,"schema","restrictRelationsTo"],null),k=Vn()(U,["manyToMany","oneToMany","manyToOne","manyWay"].includes(n)?2:1);return n?a.createElement(fe.k,{style:{flex:1}},a.createElement(Gi,null,a.createElement(fe.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},a.createElement(Dt.k,{tagName:"button"},a.createElement(D.K,{spacing:3,horizontal:!0},p.map(R=>{const de=Yi[R],pe=w===null||w.includes(R);return a.createElement(Hi,{as:"button",isSelected:n===R,disabled:!pe,key:R,onClick:()=>{pe&&s({type:Fe.QQ,target:{oneThatIsCreatingARelationWithAnother:t,targetContentType:i,value:R}})},padding:2,type:"button"},a.createElement(de,{key:R}))}))))),a.createElement(Xi,{justifyContent:"center"},a.createElement(ye.Z,null,Ja()(ne,{length:24}),"\xA0"),a.createElement(ye.Z,{textColor:"primary600"},d({id:(0,l.Z)(`relation.${n}`)}),"\xA0"),a.createElement(ye.Z,null,Ja()(k,{length:24})))):null};Kn.defaultProps={relationType:null,target:null},Kn.propTypes={naturePickerType:r().string.isRequired,oneThatIsCreatingARelationWithAnother:r().string.isRequired,relationType:r().string,target:r().string};const Ji=Kn,ur=({formErrors:e,mainBoxHeader:t,modifiedData:n,naturePickerType:i,onChange:s})=>{const d=(0,Wn.Z)(n.relation,n.targetAttribute);return a.createElement(fe.k,{style:{position:"relative"}},a.createElement(Ya,{isMain:!0,header:t,error:(e==null?void 0:e.name)||null,name:"name",onChange:s,value:(n==null?void 0:n.name)||""}),a.createElement(Ji,{naturePickerType:i,oneThatIsCreatingARelationWithAnother:t,relationType:d,target:n.target}),a.createElement(Ya,{disabled:["oneWay","manyWay"].includes(d),error:(e==null?void 0:e.targetAttribute)||null,name:"targetAttribute",onChange:s,oneThatIsCreatingARelationWithAnother:t,target:n.target,value:(n==null?void 0:n.targetAttribute)||""}))};ur.propTypes={formErrors:r().object.isRequired,mainBoxHeader:r().string.isRequired,modifiedData:r().object.isRequired,naturePickerType:r().string.isRequired,onChange:r().func.isRequired};const Qi=ur;var cr=o(97406),_i=Object.defineProperty,mr=Object.getOwnPropertySymbols,es=Object.prototype.hasOwnProperty,ts=Object.prototype.propertyIsEnumerable,pr=(e,t,n)=>t in e?_i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ns=(e,t)=>{for(var n in t||(t={}))es.call(t,n)&&pr(e,n,t[n]);if(mr)for(var n of mr(t))ts.call(t,n)&&pr(e,n,t[n]);return e};const Gn=({description:e,error:t,intlLabel:n,modifiedData:i,name:s,onChange:d,value:u})=>{const{formatMessage:c}=(0,h.useIntl)(),m=(0,a.useRef)(d),y=(i==null?void 0:i.displayName)||"";(0,a.useEffect)(()=>{if(y){const S=(0,cr.Z)(y);try{const L=Vn()(S,2);m.current({target:{name:s,value:L}})}catch(L){m.current({target:{name:s,value:S}})}}else m.current({target:{name:s,value:""}})},[y,s]);const f=t?c({id:t,defaultMessage:t}):"",p=e?c({id:e.id,defaultMessage:e.defaultMessage},ns({},e.values)):"",F=c(n);return a.createElement(zn.o,{error:f,label:F,id:s,hint:p,name:s,onChange:d,value:u||""})};Gn.defaultProps={description:null,error:null,value:null},Gn.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const as=Gn;var rs=o(31950),os=o(90608);const Hn=({error:e,intlLabel:t,name:n,onChange:i,value:s})=>{const{formatMessage:d}=(0,h.useIntl)(),{allComponentsCategories:u}=(0,X.Z)(),[c,m]=(0,a.useState)(u),y=e?d({id:e,defaultMessage:e}):"",f=d(t),p=S=>{i({target:{name:n,value:S,type:"select-category"}})},F=S=>{m(L=>[...L,S]),p(S)};return a.createElement(rs.X,{error:y,id:n,label:f,name:n,onChange:p,onCreateOption:F,value:s},c.map(S=>a.createElement(os.O,{key:S,value:S},S)))};Hn.defaultProps={error:null,value:null},Hn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const is=Hn,Xn=({error:e,intlLabel:t,isAddingAComponentToAnotherComponent:n,isCreating:i,isCreatingComponentWhileAddingAField:s,componentToCreate:d,name:u,onChange:c,targetUid:m,forTarget:y,value:f})=>{const{formatMessage:p}=(0,h.useIntl)(),F=e?p({id:e,defaultMessage:e}):"",S=p(t),{componentsGroupedByCategory:L,componentsThatHaveOtherComponentInTheirAttributes:U}=(0,X.Z)(),ne=["component","components"].includes(y);let w=Object.entries(L).reduce((k,R)=>{const[de,pe]=R,ve=pe.map(K=>({uid:K.uid,label:K.schema.displayName,categoryName:de}));return[...k,...ve]},[]);return n&&(w=w.filter(k=>!U.includes(k.uid))),ne&&(w=w.filter(k=>k.uid!==m)),s&&(w=[{uid:f,label:d.displayName,categoryName:d.category}]),a.createElement(gn.P,{disabled:s||!i,error:F,label:S,id:u,name:u,onChange:k=>{c({target:{name:u,value:k,type:"select-category"}})},value:f||""},w.map(k=>a.createElement(yn.W,{key:k.uid,value:k.uid},`${k.categoryName} - ${k.label}`)))};Xn.defaultProps={componentToCreate:null,error:null},Xn.propTypes={componentToCreate:r().object,forTarget:r().string.isRequired,error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,isAddingAComponentToAnotherComponent:r().bool.isRequired,isCreating:r().bool.isRequired,isCreatingComponentWhileAddingAField:r().bool.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,targetUid:r().string.isRequired,value:r().string.isRequired};const ss=Xn,Yn=(e,t)=>e.find(({name:n})=>n===t),fr=({dynamicZoneTarget:e,intlLabel:t,name:n,onChange:i,value:s})=>{const{formatMessage:d}=(0,h.useIntl)(),{componentsGroupedByCategory:u,modifiedData:c}=(0,X.Z)(),y=(Yn(c.contentType.schema.attributes,e)||{}).components||[],f=Object.keys(u).reduce((S,L)=>{const U=u[L].filter(({uid:ne})=>!y.includes(ne));return U.length>0&&(S[L]=U),S},{}),p=Object.entries(f).reduce((S,L)=>{const[U,ne]=L,w={label:U,children:ne.map(({uid:k,schema:{displayName:R}})=>({label:R,value:k}))};return S.push(w),S},[]),F=d({id:(0,l.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:s.length});return a.createElement(se.Q,{id:"select1",label:d(t),customizeContent:()=>F,name:n,onChange:S=>{i({target:{name:n,value:S,type:"select-components"}})},options:p,value:s||[]})};fr.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,dynamicZoneTarget:r().string.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().array.isRequired};const ls=fr,Jn=({intlLabel:e,error:t,modifiedData:n,name:i,onChange:s,options:d,value:u})=>{const{formatMessage:c}=(0,h.useIntl)(),m=c(e),y=t?c({id:t,defaultMessage:t}):"",f=p=>{s({target:{name:i,value:p,type:"select"}}),u&&n.default!==void 0&&n.default!==null&&s({target:{name:"default",value:null}})};return a.createElement(gn.P,{error:y,label:m,id:i,name:i,onChange:f,value:u||""},d.map(({metadatas:{intlLabel:p,disabled:F,hidden:S},key:L,value:U})=>a.createElement(yn.W,{key:L,value:U,disabled:F,hidden:S},c({id:p.id,defaultMessage:p.defaultMessage},p.values))))};Jn.defaultProps={error:void 0,value:""},Jn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().string};const ds=Jn,Qn=({intlLabel:e,error:t,modifiedData:n,name:i,onChange:s,options:d,value:u})=>{const{formatMessage:c}=(0,h.useIntl)(),m=c(e),y=t?c({id:t,defaultMessage:t}):"",f=p=>{s({target:{name:i,value:p,type:"select"}}),u&&(p==="biginteger"&&u!=="biginteger"&&(n.default!==void 0&&n.default!==null&&s({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&s({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&s({target:{name:"min",value:null}})),["decimal","float","integer"].includes(p)&&u==="biginteger"&&(n.default!==void 0&&n.default!==null&&s({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&s({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&s({target:{name:"min",value:null}})))};return a.createElement(gn.P,{error:y,label:m,id:i,name:i,onChange:f,value:u||""},d.map(({metadatas:{intlLabel:p,disabled:F,hidden:S},key:L,value:U})=>a.createElement(yn.W,{key:L,value:U,disabled:F,hidden:S},c(p))))};Qn.defaultProps={error:void 0,value:""},Qn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().string};const us=Qn;var cs=Object.defineProperty,gr=Object.getOwnPropertySymbols,ms=Object.prototype.hasOwnProperty,ps=Object.prototype.propertyIsEnumerable,yr=(e,t,n)=>t in e?cs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fs=(e,t)=>{for(var n in t||(t={}))ms.call(t,n)&&yr(e,n,t[n]);if(gr)for(var n of gr(t))ps.call(t,n)&&yr(e,n,t[n]);return e};const _n=({description:e,error:t,intlLabel:n,modifiedData:i,name:s,onChange:d,value:u})=>{const{formatMessage:c}=(0,h.useIntl)(),m=(0,a.useRef)(d),y=(i==null?void 0:i.displayName)||"";(0,a.useEffect)(()=>{y?m.current({target:{name:s,value:(0,cr.Z)(y)}}):m.current({target:{name:s,value:""}})},[y,s]);const f=t?c({id:t,defaultMessage:t}):"",p=e?c({id:e.id,defaultMessage:e.defaultMessage},fs({},e.values)):"",F=c(n);return a.createElement(zn.o,{error:f,label:F,id:s,hint:p,name:s,onChange:d,value:u||""})};_n.defaultProps={description:null,error:null,value:null},_n.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const gs=_n;var ys=Object.defineProperty,vs=Object.defineProperties,bs=Object.getOwnPropertyDescriptors,vr=Object.getOwnPropertySymbols,hs=Object.prototype.hasOwnProperty,Es=Object.prototype.propertyIsEnumerable,br=(e,t,n)=>t in e?ys(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hr=(e,t)=>{for(var n in t||(t={}))hs.call(t,n)&&br(e,n,t[n]);if(vr)for(var n of vr(t))Es.call(t,n)&&br(e,n,t[n]);return e},Ts=(e,t)=>vs(e,bs(t));const Er=({form:e,formErrors:t,genericInputProps:n,modifiedData:i,onChange:s})=>{const{formatMessage:d}=(0,h.useIntl)();return e.map((u,c)=>u.items.length===0?null:a.createElement(te.x,{key:c},u.sectionTitle&&a.createElement(te.x,{paddingBottom:4},a.createElement(ye.Z,{variant:"delta",as:"h3"},d(u.sectionTitle))),a.createElement(Tt.r,{gap:4},u.items.map((m,y)=>{const f=`${c}.${y}`,p=A()(i,m.name,""),F=Object.keys(t).find(L=>L===m.name),S=F?t[F].id:A()(t,[...m.name.split(".").filter(L=>L!=="componentToCreate"),"id"],null);return m.type==="pushRight"?a.createElement(rt.P,{col:m.size||6,key:m.name||f},a.createElement("div",null)):a.createElement(rt.P,{col:m.size||6,key:m.name||f},a.createElement(v.GenericInput,Ts(hr(hr({},m),n),{error:S,onChange:s,value:p})))}))))};Er.propTypes={form:r().arrayOf(r().object).isRequired,formErrors:r().object.isRequired,genericInputProps:r().object.isRequired,modifiedData:r().object.isRequired,onChange:r().func.isRequired};const Tr=Er;var Cs=o(64256),Ms=Object.defineProperty,Cr=Object.getOwnPropertySymbols,Os=Object.prototype.hasOwnProperty,Ps=Object.prototype.propertyIsEnumerable,Mr=(e,t,n)=>t in e?Ms(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Or=(e,t)=>{for(var n in t||(t={}))Os.call(t,n)&&Mr(e,n,t[n]);if(Cr)for(var n of Cr(t))Ps.call(t,n)&&Mr(e,n,t[n]);return e};const ea=({description:e,disabled:t,error:n,intlLabel:i,labelAction:s,name:d,onChange:u,placeholder:c,value:m})=>{const{formatMessage:y}=(0,h.useIntl)(),f=n?y({id:n,defaultMessage:n}):"",p=e?y({id:e.id,defaultMessage:e.defaultMessage},Or({},e.values)):"",F=y(i),S=c?y({id:c.id,defaultMessage:c.defaultMessage},Or({},c.values)):"",L=Array.isArray(m)?m.join(`
`):"",U=ne=>{const w=ne.target.value.split(`
`);u({target:{name:d,value:w}})};return a.createElement(Cs.g,{disabled:t,error:f,label:F,labelAction:s,id:d,hint:p,name:d,onChange:U,placeholder:S,value:L},L)};ea.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},ea.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),disabled:r().bool,error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,labelAction:r().element,name:r().string.isRequired,onChange:r().func.isRequired,placeholder:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),value:r().oneOfType([r().array,r().string])};const xs=ea,Rs=(e,t)=>{const n=A()(e,["contentType","schema","kind"],"");return n==="singleType"||n===t.kind?!0:A()(e,["contentType","schema","attributes"],[]).filter(({relation:d,type:u,targetAttribute:c})=>{const m=(0,Wn.Z)(d,c);return u==="relation"&&!["oneWay","manyWay"].includes(m)}).length===0},As=(e="",t,n)=>{const i=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],s=e==="contentType",d=n.includes(t),u=!s&&!d;return s?[[...i,"uid"],["component","dynamiczone"]]:u?[i,["component"]]:[i]},Pr=e=>e.reduce((t,n)=>{const i=n.items.reduce((s,d)=>(d.name&&s.push(d.name),s),[]);return[...t,...i]},[]);var x=o(53209),Ut=o(97392);const Ss={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,l.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},xr=/^[A-Za-z][-_0-9A-Za-z]*$/,Fs=e=>{const t={name:x.Z_().matches(xr,v.translatedErrors.regex).test({name:"nameNotAllowed",message:v.translatedErrors.unique,test(n){return n?!e.includes((0,E.toLower)(n)):!1}}).required(v.translatedErrors.required)};return x.Ry(t)},Zs=(e,t,n)=>{const i={displayName:x.Z_().test({name:"nameAlreadyUsed",message:v.translatedErrors.unique,test(s){if(!s)return!1;const d=(0,Ut.N)(s,n);return!e.includes(d)}}).test({name:"nameNotAllowed",message:(0,l.Z)("error.contentTypeName.reserved-name"),test(s){return s?!t.includes((0,E.toLower)((0,E.trim)(s))):!1}}).required(v.translatedErrors.required),category:x.Z_().matches(xr,v.translatedErrors.regex).required(v.translatedErrors.required),icon:x.Z_()};return x.Ry(i)},ta={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,l.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,l.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,l.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,l.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},Wt={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,l.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,l.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]}]},advanced(){return[]}},$={default:{name:"default",type:"text",intlLabel:{id:(0,l.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,l.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,l.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,l.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,l.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,l.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,l.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,l.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,l.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,l.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,l.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,l.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,l.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}};var Ns=Object.defineProperty,Ds=Object.defineProperties,Ls=Object.getOwnPropertyDescriptors,Rr=Object.getOwnPropertySymbols,Is=Object.prototype.hasOwnProperty,js=Object.prototype.propertyIsEnumerable,Ar=(e,t,n)=>t in e?Ns(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,na=(e,t)=>{for(var n in t||(t={}))Is.call(t,n)&&Ar(e,n,t[n]);if(Rr)for(var n of Rr(t))js.call(t,n)&&Ar(e,n,t[n]);return e},aa=(e,t)=>Ds(e,Ls(t));const ws={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,l.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private]}]}},component({repeatable:e},t){return t==="1"?{sections:Wt.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private,$.max,$.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[aa(na({},$.default),{type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.unique,$.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.max,$.min]}]}},email(){return{sections:[{sectionTitle:null,items:[aa(na({},$.default),{type:"email"})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.unique,$.maxLength,$.minLength,$.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,l.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((t,n)=>e.enum.indexOf(t)===n&&t).map(t=>({key:t,value:t,metadatas:{intlLabel:{id:`${t}.no-override`,defaultMessage:t}}}))]},{intlLabel:{id:(0,l.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,l.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,l.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private]}]}},number(e){const t=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:t,intlLabel:{id:(0,l.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.unique,$.max,$.min,$.private]}]}},password(){return{sections:[{sectionTitle:null,items:[$.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.maxLength,$.minLength,$.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[$.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.maxLength,$.minLength,$.private]}]}},text(){return{sections:[{sectionTitle:null,items:[$.default,$.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.unique,$.maxLength,$.minLength,$.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[aa(na({},$.default),{disabled:Boolean(e.targetField),type:"text"})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.maxLength,$.minLength,$.private]}]}}},gt={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,l.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}};var Bs=Object.defineProperty,$s=Object.defineProperties,zs=Object.getOwnPropertyDescriptors,Sr=Object.getOwnPropertySymbols,Us=Object.prototype.hasOwnProperty,Ws=Object.prototype.propertyIsEnumerable,Fr=(e,t,n)=>t in e?Bs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qs=(e,t)=>{for(var n in t||(t={}))Us.call(t,n)&&Fr(e,n,t[n]);if(Sr)for(var n of Sr(t))Ws.call(t,n)&&Fr(e,n,t[n]);return e},ks=(e,t)=>$s(e,zs(t));const Zr={advanced:ws,base:{component(e,t){if(t==="1"){const n=e.createComponent===!0?Wt.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[ta]},...n]}}return{sections:[{sectionTitle:null,items:[gt,{name:"component",type:"select-component",intlLabel:{id:(0,l.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,l.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,l.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,l.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,l.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[gt,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,l.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,l.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,l.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[gt]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,l.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,l.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[gt]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,l.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,l.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,l.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,l.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[gt,{intlLabel:{id:(0,l.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,l.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,l.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,l.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,l.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[gt]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,l.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,l.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,l.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,l.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[gt]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,l.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,l.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,l.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,l.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,t,n){const i=n.filter(({type:s})=>["string","text"].includes(s)).map(({name:s})=>({key:s,value:s,metadatas:{intlLabel:{id:`${s}.no-override`,defaultMessage:s}}}));return{sections:[{sectionTitle:null,items:[ks(qs({},gt),{placeholder:{id:(0,l.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. Slug, SEO URL, Canonical URL"}}),{intlLabel:{id:(0,l.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...i]}]}]}}}},Vs={sections:[{sectionTitle:null,items:[gt]}]};var Ks=o(44908),Gs=o.n(Ks),Hs=o(46831),Xs=o.n(Hs);const ra=e=>Xs()(e,{decamelize:!1,lowercase:!1,separator:"_"}),Nr=/^[A-Za-z][_0-9A-Za-z]*$/,Dr=e=>({name:"attributeNameAlreadyUsed",message:v.translatedErrors.unique,test(t){return t?!e.includes(t):!1}}),Jd=(e,t,n)=>{const i=get(e,["schema","attributes"],{});return Object.keys(i).filter(s=>t?s!==n:!0)},oa=e=>({name:"forbiddenAttributeName",message:(0,l.Z)("error.attributeName.reserved-name"),test(t){return t?!e.includes(t):!1}}),T={default:()=>x.Z_().nullable(),max:()=>x.Rx().integer().nullable(),min:()=>x.Rx().integer().when("max",(e,t)=>e?t.max(e,(0,l.Z)("error.validation.minSupMax")):t).nullable(),maxLength:()=>x.Rx().integer().positive((0,l.Z)("error.validation.positive")).nullable(),minLength:()=>x.Rx().integer().min(0).when("maxLength",(e,t)=>e?t.max(e,(0,l.Z)("error.validation.minSupMax")):t).nullable(),name(e,t){return x.Z_().test(Dr(e)).test(oa(t)).matches(Nr,v.translatedErrors.regex).required(v.translatedErrors.required)},required:()=>x.O7(),type:()=>x.Z_().required(v.translatedErrors.required),unique:()=>x.O7().nullable()},ia=(e,t)=>({name:T.name(e,t),type:T.type(),default:T.default(),unique:T.unique(),required:T.required(),maxLength:T.maxLength(),minLength:T.minLength(),regex:x.Z_().test({name:"isValidRegExpPattern",message:(0,l.Z)("error.validation.regex"),test(i){return new RegExp(i)!==null}}).nullable()}),sa={name:"isMinSuperiorThanMax",message:(0,l.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:t}=this.parent;return!t||Number.isNaN((0,E.toNumber)(e))?!0:(0,E.toNumber)(t)>=(0,E.toNumber)(e)}},la={date(e,t){const n={name:T.name(e,t),type:T.type()};return x.Ry(n)},datetime(e,t){const n={name:T.name(e,t),type:T.type()};return x.Ry(n)},time(e,t){const n={name:T.name(e,t),type:T.type()};return x.Ry(n)},default(e,t){const n={name:T.name(e,t),type:T.type()};return x.Ry(n)},biginteger(e,t){const n={name:T.name(e,t),type:T.type(),default:x.Z_().nullable().matches(/^-?\d*$/),unique:T.unique(),required:T.required(),max:x.Z_().nullable().matches(/^-?\d*$/,v.translatedErrors.regex),min:x.Z_().nullable().test(sa).matches(/^-?\d*$/,v.translatedErrors.regex)};return x.Ry(n)},boolean(e,t){const n={name:T.name(e,t),default:x.O7().nullable(),required:T.required(),unique:T.unique()};return x.Ry(n)},component(e,t){const n={name:T.name(e,t),type:T.type(),required:T.required(),max:T.max(),min:T.min(),component:x.Z_().required(v.translatedErrors.required)};return x.Ry(n)},decimal(e,t){const n={name:T.name(e,t),type:T.type(),default:x.Rx(),required:T.required(),max:x.Rx(),min:x.Rx().test(sa)};return x.Ry(n)},dynamiczone(e,t){const n={name:T.name(e,t),type:T.type(),required:T.required(),max:T.max(),min:T.min()};return x.Ry(n)},email(e,t){const n={name:T.name(e,t),type:T.type(),default:x.Z_().email().nullable(),unique:T.unique(),required:T.required(),maxLength:T.maxLength(),minLength:T.minLength()};return x.Ry(n)},enumeration(e,t){const n=/^[_A-Za-z][_0-9A-Za-z]*$/,i={name:x.Z_().test(Dr(e)).test(oa(t)).matches(n,v.translatedErrors.regex).required(v.translatedErrors.required),type:T.type(),default:T.default(),unique:T.unique(),required:T.required(),enum:x.IX().of(x.Z_()).min(1,v.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,l.Z)("error.validation.enum-duplicate"),test(s){return!Gs()(s.map(ra).filter((u,c,m)=>m.indexOf(u)!==c)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,l.Z)("error.validation.enum-empty-string"),test:s=>!s.map(ra).some(d=>d==="")}).test({name:"doesMatchRegex",message:(0,l.Z)("error.validation.enum-regex"),test:s=>s.map(ra).every(d=>n.test(d))}),enumName:x.Z_().nullable()};return x.Ry(i)},float(e,t){const n={name:T.name(e,t),type:T.type(),required:T.required(),default:x.Rx(),max:x.Rx(),min:x.Rx().test(sa)};return x.Ry(n)},integer(e,t){const n={name:T.name(e,t),type:T.type(),default:x.Rx().integer(),unique:T.unique(),required:T.required(),max:T.max(),min:T.min()};return x.Ry(n)},json(e,t){const n={name:T.name(e,t),type:T.type(),required:T.required(),unique:T.unique()};return x.Ry(n)},media(e,t){const n={name:T.name(e,t),type:T.type(),multiple:x.O7(),required:T.required(),allowedTypes:x.IX().of(x.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return x.Ry(n)},password(e,t){const n={name:T.name(e,t),type:T.type(),default:T.default(),unique:T.unique(),required:T.required(),maxLength:T.maxLength(),minLength:T.minLength()};return x.Ry(n)},relation(e,t,n,{initialData:i,modifiedData:s}){const d={name:T.name(e,t),target:x.Z_().required(v.translatedErrors.required),relation:x.Z_().required(),type:x.Z_().required(),targetAttribute:x.Vo(()=>{const u=(0,Wn.Z)(s.relation,s.targetAttribute);if(u==="oneWay"||u==="manyWay")return x.Z_().nullable();let c=x.Z_().test(oa(t)),y=[...n.map(({name:f})=>f),s.name].filter(f=>f!==i.targetAttribute);return c.matches(Nr,v.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,l.Z)("error.validation.relation.targetAttribute-taken"),test(f){return f?!y.includes(f):!1}}).required(v.translatedErrors.required)})};return x.Ry(d)},richtext(e,t){const n={name:T.name(e,t),type:T.type(),default:T.default(),unique:T.unique(),required:T.required(),maxLength:T.maxLength(),minLength:T.minLength()};return x.Ry(n)},string(e,t){const n=ia(e,t);return x.Ry(n)},text(e,t){const n=ia(e,t);return x.Ry(n)},uid(e,t){const n=ia(e,t);return x.Ry(n)}},Lr={name:"displayName",type:"text",intlLabel:{id:(0,l.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},da={advanced:{default(){return{sections:[{sectionTitle:{id:(0,l.Z)("form.contentType.divider.draft-publish"),defaultMessage:"Draft/Publish"},items:[{intlLabel:{id:(0,l.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft/publish system"},description:{id:(0,l.Z)("contentType.draftAndPublish.description"),defaultMessage:"Write a draft version of each entry before publishing it"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Lr,{description:{id:(0,l.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,l.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,l.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,l.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Lr,{disabled:!0,description:{id:(0,l.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,l.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,l.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,l.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,l.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,l.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,l.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,l.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},Ys=({usedContentTypeNames:e=[],reservedModels:t=[],singularNames:n=[],pluralNames:i=[]})=>{const s={displayName:x.Z_().test({name:"nameAlreadyUsed",message:v.translatedErrors.unique,test(d){if(!d)return!1;const u=(0,Ut.E)(d);return!e.includes(u)}}).test({name:"nameNotAllowed",message:(0,l.Z)("error.contentTypeName.reserved-name"),test(d){return d?!t.includes((0,E.toLower)((0,E.trim)(d))):!1}}).required(v.translatedErrors.required),pluralName:x.Z_().test({name:"pluralNameAlreadyUsed",message:v.translatedErrors.unique,test(d){return d?!i.includes(d):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,l.Z)("error.contentType.pluralName-used"),test(d,u){return d?u.parent.singularName!==d:!1}}).test({name:"pluralNameNotAllowed",message:(0,l.Z)("error.contentTypeName.reserved-name"),test(d){return d?!t.includes((0,E.toLower)((0,E.trim)(d))):!1}}).required(v.translatedErrors.required),singularName:x.Z_().test({name:"singularNameAlreadyUsed",message:v.translatedErrors.unique,test(d){return d?!n.includes(d):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,l.Z)("error.contentType.singularName-used"),test(d,u){return d?u.parent.pluralName!==d:!1}}).test({name:"singularNameNotAllowed",message:(0,l.Z)("error.contentTypeName.reserved-name"),test(d){return d?!t.includes((0,E.toLower)((0,E.trim)(d))):!1}}).required(v.translatedErrors.required),draftAndPublish:x.O7(),kind:x.Z_().oneOf(["singleType","collectionType"])};return x.Ry(s)},ua={advanced:{default(){return{sections:Wt.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[ta]},...Wt.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[ta]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,l.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Ir=(e,t)=>{e.forEach(n=>{if(!("sectionTitle"in n)){t[0].items.push(n);return}t.push(n)})},jr=(e,t)=>e.filter(({name:n})=>n!==t.initialData.name).map(({name:n})=>n);var wr=o(25108),Js=Object.defineProperty,Qs=Object.defineProperties,_s=Object.getOwnPropertyDescriptors,Tn=Object.getOwnPropertySymbols,Br=Object.prototype.hasOwnProperty,$r=Object.prototype.propertyIsEnumerable,zr=(e,t,n)=>t in e?Js(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ca=(e,t)=>{for(var n in t||(t={}))Br.call(t,n)&&zr(e,n,t[n]);if(Tn)for(var n of Tn(t))$r.call(t,n)&&zr(e,n,t[n]);return e},el=(e,t)=>Qs(e,_s(t)),ma=(e,t)=>{var n={};for(var i in e)Br.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Tn)for(var i of Tn(e))t.indexOf(i)<0&&$r.call(e,i)&&(n[i]=e[i]);return n};const Pt={customField:{schema({schemaAttributes:e,attributeType:t,customFieldValidator:n,reservedNames:i,schemaData:s,ctbFormsAPI:d}){const u=jr(e,s),c=la[t](u,i.attributes);return d.makeCustomFieldValidator(c,n,u,i.attributes,s)},form:{base({customField:e}){var t;const n=[{sectionTitle:null,items:[gt]}];return(t=e.options)!=null&&t.base&&Ir(e.options.base,n),{sections:n}},advanced(e){var t=e,{customField:n,data:i,step:s,extensions:d}=t,u=ma(t,["customField","data","step","extensions"]),c;const m=[{sectionTitle:null,items:[]}],y=d.getAdvancedForm(["attribute",n.type],ca({data:i,type:n.type,step:s},u));if((c=n.options)!=null&&c.advanced&&Ir(n.options.advanced,m),y){const f={sectionTitle:{id:(0,l.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:y};m.push(f)}return{sections:m}}}},attribute:{schema(e,t,n,i,s,d){const u=A()(e,["schema","attributes"],[]),c=jr(u,s);try{let m=la[t](c,n.attributes,i,s);return d.makeValidator(["attribute",t],m,c,n.attributes,i,s)}catch(m){return wr.error("Error yup build schema",m),la.default(c,n.attributes)}},form:{advanced(e){var t=e,{data:n,type:i,step:s,extensions:d}=t,u=ma(t,["data","type","step","extensions"]);try{const c=Zr.advanced[i](n,s).sections,m=d.getAdvancedForm(["attribute",i],ca({data:n,type:i,step:s},u));return{sections:c.reduce((f,p)=>(p.sectionTitle===null?f.push(p):f.push(el(ca({},p),{items:[...p.items,...m]})),f),[])}}catch(c){return wr.error(c),{sections:[]}}},base({data:e,type:t,step:n,attributes:i}){try{return Zr.base[t](e,n,i)}catch(s){return Vs}}}},contentType:{schema(e,t,n,i,s,d){const u=Object.values(d).map(F=>F.schema.singularName),c=Object.values(d).map(F=>A()(F,["schema","pluralName"],"")),m=t?e.filter(F=>F!==n):e,y=t?u.filter(F=>A()(d,[n,"schema","singularName"],"")!==F):u,f=t?c.filter(F=>A()(d,[n,"schema","pluralName"],"")!==F):c,p=Ys({usedContentTypeNames:m,reservedModels:i.models,singularNames:y,pluralNames:f});return s.makeValidator(["contentType"],p,m,i.models,y,f)},form:{base({actionType:e}){return e==="create"?da.base.create():da.base.edit()},advanced(e){var t=e,{extensions:n}=t,i=ma(t,["extensions"]);const s=da.advanced.default(i).sections,d=n.getAdvancedForm(["contentType"]);return{sections:[...s,{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:d}]}}}},component:{schema(e,t,n,i=!1,s=null){const d=i?e.filter(u=>u!==s):e;return Zs(d,n.models,t)},form:{advanced(){return{sections:Wt.advanced()}},base(){return{sections:Wt.base()}}}},addComponentToDynamicZone:{form:{advanced(){return ua.advanced.default()},base({data:e}){return A()(e,"createComponent",!1)?ua.base.createComponent():ua.base.default()}}},editCategory:{schema(e,t){const n=e.filter(i=>i!==t.name).map(i=>ke()(i));return Fs(n)},form:{advanced:()=>({sections:[]}),base(){return Ss.base}}}};var Ur=o(20573),tl=o(88372);const nl=()=>e=>e[`${O.Z}_formModal`]||tl.E,al=()=>(0,Ur.P1)(nl(),e=>e);var Wr=o(25108),rl=Object.defineProperty,ol=Object.defineProperties,il=Object.getOwnPropertyDescriptors,Cn=Object.getOwnPropertySymbols,qr=Object.prototype.hasOwnProperty,kr=Object.prototype.propertyIsEnumerable,Vr=(e,t,n)=>t in e?rl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qt=(e,t)=>{for(var n in t||(t={}))qr.call(t,n)&&Vr(e,n,t[n]);if(Cn)for(var n of Cn(t))kr.call(t,n)&&Vr(e,n,t[n]);return e},Mn=(e,t)=>ol(e,il(t)),On=(e,t)=>{var n={};for(var i in e)qr.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Cn)for(var i of Cn(e))t.indexOf(i)<0&&kr.call(e,i)&&(n[i]=e[i]);return n},Kr=(e,t,n)=>new Promise((i,s)=>{var d=m=>{try{c(n.next(m))}catch(y){s(y)}},u=m=>{try{c(n.throw(m))}catch(y){s(y)}},c=m=>m.done?i(m.value):Promise.resolve(m.value).then(d,u);c((n=n.apply(e,t)).next())});const sl=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:t,onNavigateToAddCompoToDZModal:n,onNavigateToCreateComponentStep2:i,actionType:s,attributeName:d,attributeType:u,customFieldUid:c,categoryName:m,dynamicZoneTarget:y,forTarget:f,modalType:p,isOpen:F,kind:S,step:L,targetUid:U}=(0,H.Z)(),ne=(0,v.useCustomFields)().get(c),w=(0,a.useRef)(),k=(0,a.useMemo)(al,[]),R=(0,J.useDispatch)(),de=(0,v.useNotification)(),pe=(0,J.useSelector)(Te=>k(Te),J.shallowEqual),{push:ve}=(0,g.useHistory)(),{trackUsage:K}=(0,v.useTracking)(),{formatMessage:ue}=(0,h.useIntl)(),{getPlugin:ge}=(0,v.useStrapiApp)(),be=ge(O.Z).apis.forms,Rt=be.components.inputs,{addAttribute:_e,addCustomFieldAttribute:ce,addCreatedComponentToDynamicZone:Re,allComponentsCategories:he,changeDynamicZoneComponents:B,contentTypes:Vt,components:tn,createSchema:Kt,deleteCategory:ha,deleteData:Rn,editCategory:Ea,editCustomFieldAttribute:Ta,submitData:Ca,modifiedData:ze,nestedComponents:An,setModifiedData:Ma,sortedContentTypesList:Oa,updateSchema:Pa,reservedNames:ot}=(0,X.Z)(),{componentToCreate:nn,formErrors:V,initialData:z,isCreatingComponentWhileAddingAField:oe,modifiedData:N}=pe,Me=f==="contentType"||f==="component"?[f]:[f,U];(0,a.useEffect)(()=>{if(F){const Te=Oa.filter(Ye);p==="editCategory"&&Ma(),s==="edit"&&p==="attribute"&&f==="contentType"&&K("willEditFieldOfContentType");const Ue=[...Me,"schema","attributes"],Ft=Yn(A()(ze,Ue,[]),y)||null;if(p==="editCategory"&&s==="edit"&&R({type:Fe._H,modalType:p,actionType:s,data:{name:m}}),p==="contentType"&&s==="create"&&R({type:Fe._H,modalType:p,actionType:s,data:{draftAndPublish:!0},pluginOptions:{}}),p==="contentType"&&s==="edit"){const{displayName:Oe,draftAndPublish:Ze,kind:Ae,pluginOptions:Xe,pluralName:nt,singularName:st}=A()(ze,[...Me,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});R({type:Fe._H,actionType:s,modalType:p,data:{displayName:Oe,draftAndPublish:Ze,kind:Ae,pluginOptions:Xe,pluralName:nt,singularName:st}})}if(p==="component"&&s==="edit"){const Oe=A()(ze,Me,{});R({type:Fe._H,actionType:s,modalType:p,data:{displayName:Oe.schema.displayName,category:Oe.category}})}if(p==="addComponentToDynamicZone"&&s==="edit"){const Oe=Mn(qt({},Ft),{components:[],name:y,createComponent:!1,componentToCreate:{type:"component"}});R({type:Fe.VZ,attributeToEdit:Oe})}if(u){const Oe=Yn(A()(ze,Ue,[]),d),Ze=Mn(qt({},Oe),{name:d});u==="component"&&s==="edit"&&(Ze.repeatable||qe()(Ze,"repeatable",!1)),R(p==="customField"?{type:Fe.OY,customField:ne,isEditing:s==="edit",modifiedDataToSetForEditing:Ze,forTarget:f}:{type:Fe.S0,attributeType:u,nameToSetForRelation:A()(Te,["0","title"],"error"),targetUid:A()(Te,["0","uid"],"error"),isEditing:s==="edit",modifiedDataToSetForEditing:Ze,step:L,forTarget:f})}}else R({type:Fe.c2})},[s,d,u,m,y,f,F,p]);const et=p==="contentType",At=p==="component",it=p==="attribute",an=p==="customField",bo=u==="component"&&it,rn=s==="create",St=A()(N,"createComponent",!1)||oe,Gt=L==="1",ho=p==="editCategory",Eo=p==="chooseAttribute",xa=(0,Ut.E)(N.displayName||""),Ra=A()(ze,[...Me,"schema","attributes"],null),Ed=()=>Kr(void 0,null,function*(){var Te;let Ue;const Ft=St&&L==="1"?A()(N,"componentToCreate",{}):N;if(et)Ue=Pt.contentType.schema(Object.keys(Vt),s==="edit",A()(ze,[...Me,"uid"],null),ot,be,Vt);else if(At)Ue=Pt.component.schema(Object.keys(tn),N.category||"",ot,s==="edit",A()(ze,[...Me,"uid"],null),be);else if(an)Ue=Pt.customField.schema({schemaAttributes:A()(ze,[...Me,"schema","attributes"],[]),attributeType:ne.type,reservedNames:ot,schemaData:{modifiedData:N,initialData:z},ctbFormsAPI:be,customFieldValidator:(Te=ne.options)==null?void 0:Te.validator});else if(bo&&St&&Gt)Ue=Pt.component.schema(Object.keys(tn),A()(N,"componentToCreate.category",""),ot,be);else if(it&&!Gt){const Oe=u==="relation"?"relation":N.type;let Ze=[];if(Oe==="relation"){const Ae=A()(N,["target"],null);Ze=A()(Vt,[Ae,"schema","attributes"],[]).filter(({name:nt})=>s!=="edit"?!0:nt!==z.targetAttribute)}Ue=Pt.attribute.schema(A()(ze,Me,{}),Oe,ot,Ze,{modifiedData:N,initialData:z},be)}else if(ho)Ue=Pt.editCategory.schema(he,z,be);else if(Gt&&St)Ue=Pt.component.schema(Object.keys(tn),A()(N,"componentToCreate.category",""),ot,be);else return;yield Ue.validate(Ft,{abortEarly:!1})}),To=(0,a.useCallback)(Te=>{var{target:Ue}=Te,Ft=Ue,{name:Oe,value:Ze,type:Ae}=Ft,Xe=On(Ft,["name","value","type"]);const nt=["enumName","max","min","maxLength","minLength","regex","default"];let st;nt.includes(Oe)&&Ze===""?st=null:st=Ze;const lt=Object.assign({},V);Oe==="max"&&delete lt.min,Oe==="maxLength"&&delete lt.minLength,delete lt[Oe],R({type:Fe.Ey,errors:lt}),R(qt({type:Fe.P0,keys:Oe.split("."),value:st},Xe))},[R,V]),tt=(Te,...Ue)=>Kr(void 0,[Te,...Ue],function*(Ft,Oe=rn){Ft.preventDefault();try{yield Ed(),Md(Oe);const Ze=f==="components"?U:xa;if(et)if(rn)Kt(Mn(qt({},N),{kind:S}),p,xa),ve({pathname:`/plugins/${O.Z}/content-types/${xa}`}),t({forTarget:f,targetUid:Ze});else{Rs(ze,N)?(e(),Ca(N)):de({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(p==="component")if(rn){const Ae=(0,Ut.N)(N.displayName,N.category),Xe=N,{category:nt}=Xe,st=On(Xe,["category"]);Kt(st,"component",Ae,nt),ve({pathname:`/plugins/${O.Z}/component-categories/${nt}/${Ae}`}),t({forTarget:f,targetUid:Ae})}else{Pa(N,p,U),e();return}else if(ho){if(ke()(z.name)===ke()(N.name)){e();return}Ea(z.name,N);return}else if(an){const Ae={attributeToSet:Mn(qt({},N),{customField:c}),forTarget:f,targetUid:U,initialAttribute:z};s==="edit"?Ta(Ae):ce(Ae),Oe?t({forTarget:f,targetUid:Ze}):e();return}else if(it&&!St){if(u==="dynamiczone"){_e(N,f,U,s==="edit",z),rn?(R({type:Fe.I}),w.current._handlers.setSelectedTabIndex(0),n({dynamicZoneTarget:N.name})):e();return}if(!bo){_e(N,f,U,s==="edit",z),Oe?t({forTarget:f,targetUid:Ze}):e();return}if(Gt){i(),R({type:Fe.yC,forTarget:f});return}_e(N,f,U,s==="edit",z,!0),Oe?t({forTarget:f,targetUid:U}):e()}else if(it&&St){if(Gt){K("willCreateComponentFromAttributesModal"),R({type:Fe.oF,forTarget:f}),i();return}const Ae=nn,{category:Xe,type:nt}=Ae,st=On(Ae,["category","type"]),lt=(0,Ut.N)(nn.displayName,Xe);Kt(st,nt,lt,Xe,St),_e(N,f,U,!1),R({type:Fe.c2}),Oe?t({forTarget:"components",targetUid:lt}):e();return}else{if(Gt)if(St){const Ae=N.componentToCreate,{category:Xe,type:nt}=Ae,st=On(Ae,["category","type"]),lt=(0,Ut.N)(N.componentToCreate.displayName,Xe);Kt(st,nt,lt,Xe,St),Re(y,[lt]),t({forTarget:"components",targetUid:lt})}else B(y,N.components),e();else Wr.error("This case is not handled");return}R({type:Fe.c2})}catch(Ze){const Ae=(0,v.getYupInnerErrors)(Ze);Wr.log({err:Ze,errors:Ae}),R({type:Fe.Ey,errors:Ae})}}),Td=()=>{window.confirm(ue({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),R({type:Fe.c2}))},Co=()=>{(0,E.isEqual)(N,z)?(e(),R({type:Fe.c2})):Td()},Cd=Te=>{if(Te==="advanced"){if(et){K("didSelectContentTypeSettings");return}f==="contentType"&&K("didSelectContentTypeFieldSettings")}},Md=Te=>{p==="attribute"&&f==="contentType"&&u!=="dynamiczone"&&Te&&K("willAddMoreFieldToContentType")},Od=()=>!!(p==="editCategory"||p==="component"||We()(N,"createComponent")),Pd=As(f,U,An);if(!F||!p)return null;const Mo=A()(Pt,[p,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),xd=f==="components"||f==="component",Oo={customInputs:qt({"allowed-types-select":Nt,"boolean-radio-group":Uo,"checkbox-with-number-field":ii,"content-type-radio-group":pi,"radio-group":Bn,relation:Qi,"select-category":is,"select-component":ss,"select-components":ls,"select-default-boolean":No,"select-number":us,"select-date":ds,"toggle-draft-publish":pt,"text-plural":as,"text-singular":gs,"textarea-enum":xs},Rt),componentToCreate:nn,dynamicZoneTarget:y,formErrors:V,isAddingAComponentToAnotherComponent:xd,isCreatingComponentWhileAddingAField:oe,mainBoxHeader:A()(ze,[...Me,"schema","displayName"],""),modifiedData:N,naturePickerType:f,isCreating:rn,targetUid:U,forTarget:f},Po=Mo.advanced({data:N,type:u,step:L,actionType:s,attributes:Ra,extensions:be,forTarget:f,contentTypeSchema:ze.contentType||{},customField:ne}).sections,xo=Mo.base({data:N,type:u,step:L,actionType:s,attributes:Ra,extensions:be,forTarget:f,contentTypeSchema:ze.contentType||{},customField:ne}).sections,Rd=Pr(xo),Ad=Pr(Po),Sd=Object.keys(V).some(Te=>Rd.includes(Te)),Fd=Object.keys(V).some(Te=>Ad.includes(Te)),Zd=A()(Vt,[U,"schema","kind"]),Nd=()=>s==="edit"&&Ra.every(({name:Te})=>Te!==(N==null?void 0:N.name)),Dd=()=>{Nd()&&K("didEditFieldNameOnContentType")};return a.createElement(bt.P,{onClose:Co,labelledBy:"title"},a.createElement(In,{actionType:s,attributeName:d,categoryName:m,contentTypeKind:S,dynamicZoneTarget:y,modalType:p,forTarget:f,targetUid:U,attributeType:u,customFieldUid:c}),Eo&&a.createElement(sn,{attributes:Pd,forTarget:f,kind:Zd||"collectionType"}),!Eo&&a.createElement("form",{onSubmit:tt},a.createElement(yt.f,null,a.createElement(ht.v,{label:"todo",id:"tabs",variant:"simple",ref:w,onTabChange:Te=>{Te===1&&Cd("advanced")}},a.createElement(fe.k,{justifyContent:"space-between"},a.createElement(Ro,{actionType:s,forTarget:f,kind:S,step:L,modalType:p,attributeType:u,attributeName:d,customField:ne}),a.createElement(ut.m,null,a.createElement(ut.O,{hasError:Sd},ue({id:(0,l.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),a.createElement(ut.O,{hasError:Fd,disabled:Od()},ue({id:(0,l.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),a.createElement(dt.i,null),a.createElement(te.x,{paddingTop:6},a.createElement(Be.n,null,a.createElement(Be.x,null,a.createElement(D.K,{spacing:6},a.createElement(Tr,{form:xo,formErrors:V,genericInputProps:Oo,modifiedData:N,onChange:To}))),a.createElement(Be.x,null,a.createElement(D.K,{spacing:6},a.createElement(Tr,{form:Po,formErrors:V,genericInputProps:Oo,modifiedData:N,onChange:To}))))))),a.createElement(jt.m,{endActions:a.createElement(le,{deleteCategory:ha,deleteContentType:Rn,deleteComponent:Rn,categoryName:z.name,isAttributeModal:p==="attribute",isCustomFieldModal:p==="customField",isComponentToDzModal:p==="addComponentToDynamicZone",isComponentAttribute:u==="component",isComponentModal:p==="component",isContentTypeModal:p==="contentType",isCreatingComponent:s==="create",isCreatingDz:s==="create",isCreatingComponentAttribute:N.createComponent||!1,isCreatingComponentInDz:N.createComponent||!1,isCreatingComponentWhileAddingAField:oe,isCreatingContentType:s==="create",isEditingAttribute:s==="edit",isDzAttribute:u==="dynamiczone",isEditingCategory:p==="editCategory",isInFirstComponentStep:L==="1",onSubmitAddComponentAttribute:tt,onSubmitAddComponentToDz:tt,onSubmitCreateComponent:tt,onSubmitCreateContentType:tt,onSubmitCreateDz:tt,onSubmitEditAttribute:tt,onSubmitEditCategory:tt,onSubmitEditComponent:tt,onSubmitEditContentType:tt,onSubmitEditCustomFieldAttribute:tt,onSubmitEditDz:tt,onClickFinish:Dd}),startActions:a.createElement(re.z,{variant:"tertiary",onClick:Co},ue({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},Gr=e=>e.reduce((t,n)=>(t[n.uid]=n,t),{}),ll=(e,t,n,i)=>{const s=t.reduce((c,m)=>{const y=A()(n,m,{});return c[m]=y,c},{});return{[i?"contentType":"component"]:e,components:s}},dl=(e,t)=>{const n=Object.keys(e).map(i=>(0,E.get)(e,[i,...t],""));return(0,b.Z)(n)};var ul=o(19525);const cl=e=>{const t=Object.keys(e).reduce((n,i)=>{const s=(0,E.get)(e,[i,"schema","attributes"],[]),d=ml(s);return[...n,...d]},[]);return(0,b.Z)(t)},ml=e=>e.reduce((t,n)=>{const{type:i,component:s}=n;return i==="component"&&t.push(s),t},[]),Hr=cl,pl=e=>{const t=Object.keys(e).reduce((n,i)=>{const s=A()(e,[i],{}),d=s.uid;return fl(s)&&n.push(d),n},[]);return(0,b.Z)(t)},fl=e=>A()(e,["schema","attributes"],[]).some(n=>{const{type:i}=n;return i==="component"});var gl=Object.defineProperty,yl=Object.defineProperties,vl=Object.getOwnPropertyDescriptors,Pn=Object.getOwnPropertySymbols,Xr=Object.prototype.hasOwnProperty,Yr=Object.prototype.propertyIsEnumerable,Jr=(e,t,n)=>t in e?gl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bl=(e,t)=>{for(var n in t||(t={}))Xr.call(t,n)&&Jr(e,n,t[n]);if(Pn)for(var n of Pn(t))Yr.call(t,n)&&Jr(e,n,t[n]);return e},hl=(e,t)=>yl(e,vl(t)),El=(e,t)=>{var n={};for(var i in e)Xr.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Pn)for(var i of Pn(e))t.indexOf(i)<0&&Yr.call(e,i)&&(n[i]=e[i]);return n};const Tl=(e,t)=>{const n=Object.keys(e).filter(i=>{const s=(0,E.get)(e,i,{}),d=(0,E.get)(t,i,{}),u=(0,E.get)(s,["isTemporary"],!1),c=!(0,E.isEqual)(s,d);return u||c});return(0,b.Z)(n)},Cl=(e,t)=>{const n=_r((0,E.get)(e,"schema.attributes",[]),t),i=(0,E.get)(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},i,{category:e.category},(0,E.omit)(e.schema,"attributes"),{attributes:n})},Qr=(e,t=!1)=>{const n=(0,E.get)(e,"uid",null),i=_r((0,E.get)(e,"schema.attributes",[]),n),s=t?{category:(0,E.get)(e,"category","")}:{},d=Object.assign(s,(0,E.omit)(e.schema,"attributes"),{attributes:i});return delete d.uid,delete d.isTemporary,delete d.visible,delete d.restrictRelationsTo,d},_r=(e,t)=>e.reduce((n,i)=>{var s=i,{name:d}=s,u=El(s,["name"]);const c=u,m=c.target===t,y=c.type==="relation",f=(0,E.get)(c,"targetAttribute",null);if(!m)if(y){const p=Object.assign({},c,{targetAttribute:eo(f)});n[d]=xn(p)}else n[d]=xn(c);if(m){const p=c.target,F=Object.assign({},c,{target:p,targetAttribute:eo(f)});n[d]=xn(F)}if(c.customField){const p=hl(bl({},c),{type:"customField"});n[d]=xn(p)}return n},{}),eo=e=>e==="-"?null:e,xn=e=>Object.keys(e).reduce((t,n)=>(e[n]!==null&&n!=="plugin"&&(t[n]=e[n]),t),{}),Ml=(e,t,n,i=!1)=>Tl(e,t).map(u=>{const c=(0,E.get)(e,u,{});return Cl(c,n,i)}),Ol=e=>(0,E.sortBy)(Object.keys(e).map(t=>({visible:e[t].schema.visible,name:t,title:e[t].schema.displayName,plugin:e[t].plugin||null,uid:t,to:`/plugins/${O.Z}/content-types/${t}`,kind:e[t].schema.kind,restrictRelationsTo:e[t].schema.restrictRelationsTo})).filter(t=>t!==null),t=>(0,E.camelCase)(t.title)),to="did-not-kill-server",Pl="server is down";function _t(e,t){return new Promise(n=>{fetch(`${strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(i=>{if(i.status>=400)throw new Error(Pl);if(!t)throw new Error(to);n(e)}).catch(i=>{setTimeout(()=>_t(e,i.message!==to).then(n),100)})})}const xl=e=>Object.values(e.attributes).filter(({type:n})=>n==="dynamiczone").every(({components:n})=>Array.isArray(n)&&n.length>0);var we=o(92407),Rl=o(87431);const Al=()=>e=>e[`${O.Z}_dataManagerProvider`]||Rl.E,Sl=()=>(0,Ur.P1)(Al(),e=>e);var Fl=Object.defineProperty,Zl=Object.defineProperties,Nl=Object.getOwnPropertyDescriptors,no=Object.getOwnPropertySymbols,Dl=Object.prototype.hasOwnProperty,Ll=Object.prototype.propertyIsEnumerable,ao=(e,t,n)=>t in e?Fl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pa=(e,t)=>{for(var n in t||(t={}))Dl.call(t,n)&&ao(e,n,t[n]);if(no)for(var n of no(t))Ll.call(t,n)&&ao(e,n,t[n]);return e},fa=(e,t)=>Zl(e,Nl(t));const Il=e=>Object.keys(e).reduce((t,n)=>{const i=e[n].schema;return t[n]=fa(pa({},e[n]),{schema:fa(pa({},i),{attributes:jl(i.attributes)})}),t},{}),jl=e=>Object.keys(e).reduce((t,n)=>(t.push(fa(pa({},e[n]),{name:n})),t),[]),ro=Il;var en=o(25108),wl=Object.defineProperty,oo=Object.getOwnPropertySymbols,Bl=Object.prototype.hasOwnProperty,$l=Object.prototype.propertyIsEnumerable,io=(e,t,n)=>t in e?wl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,so=(e,t)=>{for(var n in t||(t={}))Bl.call(t,n)&&io(e,n,t[n]);if(oo)for(var n of oo(t))$l.call(t,n)&&io(e,n,t[n]);return e},kt=(e,t,n)=>new Promise((i,s)=>{var d=m=>{try{c(n.next(m))}catch(y){s(y)}},u=m=>{try{c(n.throw(m))}catch(y){s(y)}},c=m=>m.done?i(m.value):Promise.resolve(m.value).then(d,u);c((n=n.apply(e,t)).next())});const ga=({children:e,components:t,contentTypes:n,isLoading:i,isLoadingForDataToBeSet:s,initialData:d,modifiedData:u,reservedNames:c})=>{const m=(0,J.useDispatch)(),y=(0,v.useNotification)(),{lockAppWithAutoreload:f,unlockAppWithAutoreload:p}=(0,v.useAutoReloadOverlayBlocker)(),{setCurrentStep:F}=(0,v.useGuidedTour)(),{getPlugin:S}=(0,v.useStrapiApp)(),{apis:L}=S(O.Z),{autoReload:U}=(0,v.useAppInfos)(),{formatMessage:ne}=(0,h.useIntl)(),{trackUsage:w}=(0,v.useTracking)(),{refetchPermissions:k}=(0,v.useRBACProvider)(),{pathname:R}=(0,g.useLocation)(),{onCloseModal:de}=(0,H.Z)(),pe=(0,g.useRouteMatch)(`/plugins/${O.Z}/content-types/:uid`),ve=(0,g.useRouteMatch)(`/plugins/${O.Z}/component-categories/:categoryUid/:componentUid`),K=(0,a.useRef)();K.current=ne;const ue=U,ge=pe!==null,xt=ge?"contentType":"component",be=ge?(0,E.get)(pe,"params.uid",null):(0,E.get)(ve,"params.componentUid",null),Rt=(0,a.useRef)(),_e=ge?"content-types":"components";Rt.current=()=>kt(void 0,null,function*(){try{const[{data:{data:V}},{data:{data:z}},{data:oe}]=yield Promise.all(["components","content-types","reserved-names"].map(it=>P.get(it))),N=Gr(V),Me=ro(N),et=Gr(z),At=ro(et);m({type:we.Id,components:Me,contentTypes:At,reservedNames:oe})}catch(V){en.error({err:V}),y({type:"warning",message:{id:"notification.error"}})}}),(0,a.useEffect)(()=>(Rt.current(),()=>{m({type:we.Zl})}),[]),(0,a.useEffect)(()=>{!i&&be&&An()},[i,R,be]),(0,a.useEffect)(()=>{U||y({type:"info",message:{id:(0,l.Z)("notification.info.autoreaload-disable")}})},[U,y]);const ce=(V,z,oe,N=!1,Me,et=!1)=>{const At=N?we.JO:we.gz;m({type:At,attributeToSet:V,forTarget:z,targetUid:oe,initialAttribute:Me,shouldAddComponentToData:et})},Re=({attributeToSet:V,forTarget:z,targetUid:oe,initialAttribute:N})=>{m({type:we.Ir,attributeToSet:V,forTarget:z,targetUid:oe,initialAttribute:N})},he=({attributeToSet:V,forTarget:z,targetUid:oe,initialAttribute:N})=>{m({type:we.Ly,attributeToSet:V,forTarget:z,targetUid:oe,initialAttribute:N})},B=(V,z)=>{m({type:we.Uu,dynamicZoneTarget:V,componentsToAdd:z})},Vt=(V,z,oe,N,Me=!1)=>{const et=z==="contentType"?we.Sh:we.VR;m({type:et,data:V,componentCategory:N,schemaType:z,uid:oe,shouldAddComponentToData:Me})},tn=(V,z)=>{m({type:we.o_,dynamicZoneTarget:V,newComponents:z})},Kt=(V,z,oe="")=>{const N=V==="components"?we.lw:we.ai;V==="contentType"&&w("willDeleteFieldOfContentType"),m({type:N,mainDataKey:V,attributeToRemoveName:z,componentUid:oe})},ha=V=>kt(void 0,null,function*(){try{const z=`/component-categories/${V}`,oe=window.confirm(ne({id:(0,l.Z)("popUpWarning.bodyMessage.category.delete")}));de(),oe&&(f(),yield P.delete(z),yield _t(!0),yield p(),yield ot())}catch(z){en.error({err:z}),y({type:"warning",message:{id:"notification.error"}})}finally{p()}}),Rn=()=>kt(void 0,null,function*(){try{const V=`/${_e}/${be}`,z=(0,E.get)(u,[xt,"isTemporary"],!1),oe=window.confirm(ne({id:(0,l.Z)(`popUpWarning.bodyMessage.${ge?"contentType":"component"}.delete`)}));if(de(),oe){if(z){m({type:we.Ap});return}f(),yield P.delete(V),yield _t(!0),yield p(),yield ot()}}catch(V){en.error({err:V}),y({type:"warning",message:{id:"notification.error"}})}finally{p()}}),Ea=(V,z)=>kt(void 0,null,function*(){try{const oe=`/component-categories/${V}`;de(),f(),yield P.put(oe,z),yield _t(!0),yield p(),yield ot()}catch(oe){en.error({err:oe}),y({type:"warning",message:{id:"notification.error"}})}finally{p()}}),Ta=()=>{const V=Object.assign({},t,u.components);if(!ge){const oe=(0,E.get)(u,"component",{});(0,E.set)(V,(0,E.get)(oe,["uid"],""),oe)}const z=pl(V);return(0,b.Z)(z)},Ca=()=>{const V=Hr(t),z=Hr(u.components||{});return(0,b.Z)([...z,...V])},ze=(V,z)=>{m({type:we.NG,dzName:V,componentToRemoveIndex:z})},An=()=>{const V=ge?n:t,z=(0,E.get)(V,be,{schema:{attributes:[]}}),oe=(0,ul.Z)(z.schema.attributes,t),N=ll(z,oe,t,ge),Me=(0,E.get)(z,"isTemporary",!1)&&(0,E.size)((0,E.get)(z,"schema.attributes",[]))===0;m({type:we.xx,schemaToSet:N,hasJustCreatedSchema:Me})},Ma=(0,a.useMemo)(()=>{const V=ge?n:t;return be==="create-content-type"?!1:!Object.keys(V).includes(be)&&!i},[t,n,be,ge,i]),Oa=(0,a.useMemo)(()=>{const V=Object.keys(n).filter(z=>(0,E.get)(n,[z,"schema","visible"],!0)).sort();return(0,E.get)(V,"0","create-content-type")},[n]);if(Ma)return a.createElement(g.Redirect,{to:`/plugins/${O.Z}/content-types/${Oa}`});const Pa=V=>kt(void 0,null,function*(){var z,oe;try{const N=(0,E.get)(u,[xt,"isTemporary"],!1),Me={components:Ml(u.components,t,be,N)};if(ge){const it=L.forms.mutateContentTypeSchema(so(so({},Qr(u.contentType)),V),d.contentType);if(!xl(it)){y({type:"warning",message:{id:(0,l.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}Me.contentType=it,w("willSaveContentType")}else Me.component=Qr(u.component,!0),w("willSaveComponent");f();const et=`/${_e}`,At=N?et:`${et}/${be}`;if(N?yield P.post(At,Me):yield P.put(At,Me),yield _t(!0),yield p(),N&&(((z=d.contentType)==null?void 0:z.schema.kind)==="collectionType"||((oe=d.contentType)==null?void 0:oe.schema.kind)==="singleType")&&F("contentTypeBuilder.success"),ge){w("didSaveContentType");const it=(0,E.get)(Me,["contentType","schema","name"],""),an=(0,E.get)(d,["contentType","schema","name"],"");!N&&it!==an&&w("didEditNameOfContentType")}else w("didSaveComponent");yield ot()}catch(N){ge||w("didNotSaveComponent"),en.error({err:N.response}),y({type:"warning",message:{id:"notification.error"}})}finally{p()}}),ot=()=>kt(void 0,null,function*(){yield k()}),nn=(V,z,oe)=>{m({type:we.bi,data:V,schemaType:z,uid:oe})};return a.createElement(G.Z.Provider,{value:{addAttribute:ce,addCustomFieldAttribute:Re,addCreatedComponentToDynamicZone:B,allComponentsCategories:dl(t,["category"]),changeDynamicZoneComponents:tn,components:t,componentsGroupedByCategory:(0,E.groupBy)(t,"category"),componentsThatHaveOtherComponentInTheirAttributes:Ta(),contentTypes:n,createSchema:Vt,deleteCategory:ha,deleteData:Rn,editCategory:Ea,editCustomFieldAttribute:he,isInDevelopmentMode:ue,initialData:d,isInContentTypeView:ge,modifiedData:u,nestedComponents:Ca(),removeAttribute:Kt,removeComponentFromDynamicZone:ze,reservedNames:c,setModifiedData:An,sortedContentTypesList:Ol(n),submitData:Pa,updateSchema:nn}},s?a.createElement(v.LoadingIndicatorPage,null):a.createElement(a.Fragment,null,e,ue&&a.createElement(sl,null)))};ga.defaultProps={components:{}},ga.propTypes={children:r().node.isRequired,components:r().object,contentTypes:r().object.isRequired,isLoading:r().bool.isRequired,isLoadingForDataToBeSet:r().bool.isRequired,initialData:r().object.isRequired,modifiedData:r().object.isRequired,reservedNames:r().object.isRequired};const zl=Sl(),Ul=(0,J.connect)(zl,null),Wl=(0,_.compose)(Ul)((0,a.memo)(ga));var ql=o(98422);const lo={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null};var kl=Object.defineProperty,Vl=Object.defineProperties,Kl=Object.getOwnPropertyDescriptors,uo=Object.getOwnPropertySymbols,Gl=Object.prototype.hasOwnProperty,Hl=Object.prototype.propertyIsEnumerable,co=(e,t,n)=>t in e?kl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ve=(e,t)=>{for(var n in t||(t={}))Gl.call(t,n)&&co(e,n,t[n]);if(uo)for(var n of uo(t))Hl.call(t,n)&&co(e,n,t[n]);return e},He=(e,t)=>Vl(e,Kl(t));const mo=({children:e})=>{const[t,n]=(0,a.useState)(lo),{trackUsage:i}=(0,v.useTracking)(),s=({attributeType:w,customFieldUid:k})=>{n(R=>He(Ve({},R),{actionType:"create",modalType:"customField",attributeType:w,customFieldUid:k}))},d=({attributeType:w,step:k})=>{t.forTarget==="contentType"&&i("didSelectContentTypeFieldType",{type:w}),n(R=>He(Ve({},R),{actionType:"create",modalType:"attribute",step:k,attributeType:w}))},u=({dynamicZoneTarget:w,targetUid:k})=>{n(R=>He(Ve({},R),{dynamicZoneTarget:w,targetUid:k,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},c=({forTarget:w,targetUid:k})=>{n(R=>He(Ve({},R),{actionType:"create",forTarget:w,targetUid:k,modalType:"chooseAttribute",isOpen:!0}))},m=w=>{n(k=>He(Ve(Ve({},k),w),{isOpen:!0}))},y=w=>{n(k=>He(Ve({},k),{categoryName:w,actionType:"edit",modalType:"editCategory",isOpen:!0}))},f=({forTarget:w,targetUid:k,attributeName:R,attributeType:de,customFieldUid:pe})=>{n(ve=>He(Ve({},ve),{modalType:"customField",customFieldUid:pe,actionType:"edit",forTarget:w,targetUid:k,attributeName:R,attributeType:de,isOpen:!0}))},p=({forTarget:w,targetUid:k,attributeName:R,attributeType:de,step:pe})=>{n(ve=>He(Ve({},ve),{modalType:"attribute",actionType:"edit",forTarget:w,targetUid:k,attributeName:R,attributeType:de,step:pe,isOpen:!0}))},F=({modalType:w,forTarget:k,targetUid:R,kind:de})=>{n(pe=>He(Ve({},pe),{modalType:w,actionType:"edit",forTarget:k,targetUid:R,kind:de,isOpen:!0}))},S=()=>{n(lo)},L=({forTarget:w,targetUid:k})=>{n(R=>He(Ve({},R),{forTarget:w,targetUid:k,modalType:"chooseAttribute"}))},U=()=>{n(w=>He(Ve({},w),{attributeType:"component",modalType:"attribute",step:"2"}))},ne=({dynamicZoneTarget:w})=>{n(k=>He(Ve({},k),{dynamicZoneTarget:w,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return a.createElement(ql.Z.Provider,{value:He(Ve({},t),{onClickSelectField:d,onClickSelectCustomField:s,onCloseModal:S,onNavigateToChooseAttributeModal:L,onNavigateToAddCompoToDZModal:ne,onOpenModalAddComponentsToDZ:u,onNavigateToCreateComponentStep2:U,onOpenModalAddField:c,onOpenModalCreateSchema:m,onOpenModalEditCategory:y,onOpenModalEditField:p,onOpenModalEditCustomField:f,onOpenModalEditSchema:F,setFormModalNavigationState:n})},e)};mo.propTypes={children:r().node.isRequired};const Xl=mo,Yl=(0,a.lazy)(()=>o.e(5905).then(o.bind(o,76761))),Jl=()=>{const{url:e}=(0,g.useRouteMatch)(),{categoryUid:t}=(0,g.useParams)();return a.createElement(a.Suspense,{fallback:a.createElement(v.LoadingIndicatorPage,null)},a.createElement(g.Switch,null,a.createElement(g.Route,{path:`${e}/:componentUid`},a.createElement(Yl,{categoryId:t}))))};var Ql=o(53192),_l=o(38702),ed=o(34446),td=o(29489);const nd=(0,De.default)(te.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,ad=De.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,rd=De.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,ya=({label:e,children:t,id:n})=>{const[i,s]=(0,a.useState)(!0),d=(0,Ia.M)("subnav-list",n),u=()=>{s(c=>!c)};return a.createElement(te.x,null,a.createElement(nd,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4},a.createElement(fe.k,{justifyContent:"space-between"},a.createElement(ad,{onClick:u,"aria-expanded":i,"aria-controls":d},a.createElement(rd,{rotated:i},a.createElement($n.default,{"aria-hidden":!0})),a.createElement(te.x,{paddingLeft:2},a.createElement(ye.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800"},e))))),i&&a.createElement("ul",{id:d},a.Children.map(t,(c,m)=>a.createElement("li",{key:m},c))))};ya.defaultProps={id:void 0},ya.propTypes={children:W.node.isRequired,id:W.string,label:W.string.isRequired};var po=o(52305),od=o(39785),id=o(41609),sd=o.n(id),ld=o(89734),fo=o.n(ld),dd=o(18446),ud=o.n(dd),cd=o(63852),md=Object.defineProperty,pd=Object.defineProperties,fd=Object.getOwnPropertyDescriptors,go=Object.getOwnPropertySymbols,gd=Object.prototype.hasOwnProperty,yd=Object.prototype.propertyIsEnumerable,yo=(e,t,n)=>t in e?md(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,va=(e,t)=>{for(var n in t||(t={}))gd.call(t,n)&&yo(e,n,t[n]);if(go)for(var n of go(t))yd.call(t,n)&&yo(e,n,t[n]);return e},ba=(e,t)=>pd(e,fd(t));const vd=()=>{const{components:e,componentsGroupedByCategory:t,contentTypes:n,isInDevelopmentMode:i,sortedContentTypesList:s,modifiedData:d,initialData:u}=(0,X.Z)(),c=(0,v.useNotification)(),{trackUsage:m}=(0,v.useTracking)(),[y,f]=(0,a.useState)(""),{onOpenModalCreateSchema:p,onOpenModalEditCategory:F}=(0,H.Z)(),S=fo()(Object.keys(t).map(K=>({name:K,title:K,isEditable:i,onClickEdit(ue,ge){ue.stopPropagation(),L?F(ge.name):k()},links:fo()(t[K].map(ue=>({name:ue.uid,to:`/plugins/${O.Z}/component-categories/${K}/${ue.uid}`,title:ue.schema.displayName})),ue=>ue.title)})),K=>K.title),L=!Object.keys(n).some(K=>n[K].isTemporary===!0)&&!Object.keys(e).some(K=>e[K].isTemporary===!0)&&ud()(d,u),U=()=>{L?(m("willCreateContentType"),p({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):k()},ne=()=>{L?(m("willCreateSingleType"),p({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):k()},w=()=>{L?(m("willCreateComponent"),p({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):k()},k=()=>{c({type:"info",message:{id:`${(0,l.Z)("notification.info.creating.notSaved")}`,defaultMessage:"Please save your work before creating a new collection type or component"}})},R=s.filter(K=>K.visible),de=[{name:"models",title:{id:`${(0,l.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:i&&{id:`${(0,l.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:U},links:R.filter(K=>K.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,l.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:i&&{id:`${(0,l.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:ne},links:R.filter(K=>K.kind==="singleType")},{name:"components",title:{id:`${(0,l.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:i&&{id:`${(0,l.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:w},links:S}],pe=K=>y?(0,cd.ZP)(K,ke()(y),{keys:[ue=>ke()(ue.title)]}):K;return{menu:(()=>de.map(K=>K.links.some(ge=>!sd()(ge.links))?ba(va({},K),{links:K.links.map(ge=>ba(va({},ge),{links:pe(ge.links)}))}):ba(va({},K),{links:pe(K.links)})))(),searchValue:y,onSearchChange:f}},bd=()=>{const{menu:e,searchValue:t,onSearchChange:n}=vd(),{formatMessage:i}=(0,h.useIntl)();return a.createElement(Ql.m,{ariaLabel:i({id:`${(0,l.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},a.createElement(_l.p,{searchable:!0,value:t,onClear:()=>n(""),onChange:s=>n(s.target.value),label:i({id:`${(0,l.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:i({id:"global.search",defaultMessage:"Search"})}),a.createElement(ed.Z,null,e.map(s=>a.createElement(a.Fragment,{key:s.name},a.createElement(td.D,{label:i({id:s.title.id,defaultMessage:s.title.defaultMessage}),collapsable:!0,badgeLabel:s.links.length.toString()},s.links.map(d=>d.links?a.createElement(ya,{key:d.name,label:Ee()(d.title)},d.links.map(u=>a.createElement(po.E,{as:g.NavLink,to:u.to,active:u.active,key:u.name,isSubSectionChild:!0},Ee()(i({id:u.name,defaultMessage:u.title}))))):a.createElement(po.E,{as:g.NavLink,to:d.to,active:d.active,key:d.name},Ee()(i({id:d.name,defaultMessage:d.title}))))),s.customLink&&a.createElement(te.x,{paddingLeft:7},a.createElement(od.A,{onClick:s.customLink.onClick,startIcon:a.createElement(Je.default,null),marginTop:2},i({id:s.customLink.id,defaultMessage:s.customLink.defaultMessage})))))))},vo=(0,a.lazy)(()=>o.e(5905).then(o.bind(o,76761))),hd=()=>{const{formatMessage:e}=(0,h.useIntl)(),t=e({id:`${O.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:n}=(0,v.useGuidedTour)(),i=(0,a.useRef)(n);return(0,a.useEffect)(()=>{i.current&&i.current("contentTypeBuilder")},[]),a.createElement(v.CheckPagePermissions,{permissions:j.Z.main},a.createElement(I.Helmet,{title:t}),a.createElement(Xl,null,a.createElement(Wl,null,a.createElement(Y.A,{sideNav:a.createElement(bd,null)},a.createElement(a.Suspense,{fallback:a.createElement(v.LoadingIndicatorPage,null)},a.createElement(g.Switch,null,a.createElement(g.Route,{path:`/plugins/${O.Z}/content-types/create-content-type`,component:vo}),a.createElement(g.Route,{path:`/plugins/${O.Z}/content-types/:uid`,component:vo}),a.createElement(g.Route,{path:`/plugins/${O.Z}/component-categories/:categoryUid`,component:Jl})))))))}},5002:(ae,ee,o)=>{"use strict";o.d(ee,{Z:()=>I});var a=o(96124);const I=h=>`${a.Z}.${h}`},89881:(ae,ee,o)=>{var a=o(47816),g=o(99291),I=g(a);ae.exports=I},23933:(ae,ee,o)=>{var a=o(44239),g=o(37005),I="[object RegExp]";function h(v){return g(v)&&a(v)==I}ae.exports=h},69199:(ae,ee,o)=>{var a=o(89881),g=o(98612);function I(h,v){var Y=-1,j=g(h)?Array(h.length):[];return a(h,function(O,W,r){j[++Y]=v(O,W,r)}),j}ae.exports=I},82689:(ae,ee,o)=>{var a=o(29932),g=o(97786),I=o(67206),h=o(69199),v=o(71131),Y=o(7518),j=o(85022),O=o(6557),W=o(1469);function r(E,J,_){J.length?J=a(J,function(Q){return W(Q)?function(me){return g(me,Q.length===1?Q[0]:Q)}:Q}):J=[O];var G=-1;J=a(J,Y(I));var H=h(E,function(Q,me,ie){var xe=a(J,function(P){return P(Q)});return{criteria:xe,index:++G,value:Q}});return v(H,function(Q,me){return j(Q,me,_)})}ae.exports=r},71131:ae=>{function ee(o,a){var g=o.length;for(o.sort(a);g--;)o[g]=o[g].value;return o}ae.exports=ee},26393:(ae,ee,o)=>{var a=o(33448);function g(I,h){if(I!==h){var v=I!==void 0,Y=I===null,j=I===I,O=a(I),W=h!==void 0,r=h===null,E=h===h,J=a(h);if(!r&&!J&&!O&&I>h||O&&W&&E&&!r&&!J||Y&&W&&E||!v&&E||!j)return 1;if(!Y&&!O&&!J&&I<h||J&&v&&j&&!Y&&!O||r&&v&&j||!W&&j||!E)return-1}return 0}ae.exports=g},85022:(ae,ee,o)=>{var a=o(26393);function g(I,h,v){for(var Y=-1,j=I.criteria,O=h.criteria,W=j.length,r=v.length;++Y<W;){var E=a(j[Y],O[Y]);if(E){if(Y>=r)return E;var J=v[Y];return E*(J=="desc"?-1:1)}}return I.index-h.index}ae.exports=g},99291:(ae,ee,o)=>{var a=o(98612);function g(I,h){return function(v,Y){if(v==null)return v;if(!a(v))return I(v,Y);for(var j=v.length,O=h?j:-1,W=Object(v);(h?O--:++O<j)&&Y(W[O],O,W)!==!1;);return v}}ae.exports=g},96347:(ae,ee,o)=>{var a=o(23933),g=o(7518),I=o(31167),h=I&&I.isRegExp,v=h?g(h):a;ae.exports=v},89734:(ae,ee,o)=>{var a=o(21078),g=o(82689),I=o(5976),h=o(16612),v=I(function(Y,j){if(Y==null)return[];var O=j.length;return O>1&&h(Y,j[0],j[1])?j=[]:O>2&&h(j[0],j[1],j[2])&&(j=[j[0]]),g(Y,a(j,1),[])});ae.exports=v},39138:(ae,ee,o)=>{var a=o(80531),g=o(40180),I=o(62689),h=o(13218),v=o(96347),Y=o(88016),j=o(83140),O=o(40554),W=o(79833),r=30,E="...",J=/\w*$/;function _(G,H){var Q=r,me=E;if(h(H)){var ie="separator"in H?H.separator:ie;Q="length"in H?O(H.length):Q,me="omission"in H?a(H.omission):me}G=W(G);var xe=G.length;if(I(G)){var P=j(G);xe=P.length}if(Q>=xe)return G;var l=Q-Y(me);if(l<1)return me;var b=P?g(P,0,l).join(""):G.slice(0,l);if(ie===void 0)return b+me;if(P&&(l+=b.length-l),v(ie)){if(G.slice(l).search(ie)){var q,A=b;for(ie.global||(ie=RegExp(ie.source,W(J.exec(ie))+"g")),ie.lastIndex=0;q=ie.exec(A);)var Ce=q.index;b=b.slice(0,Ce===void 0?l:Ce)}}else if(G.indexOf(a(ie),l)!=l){var We=b.lastIndexOf(ie);We>-1&&(b=b.slice(0,We))}return b+me}ae.exports=_},44908:(ae,ee,o)=>{var a=o(45652);function g(I){return I&&I.length?a(I):[]}ae.exports=g},2407:(ae,ee,o)=>{"use strict";o.d(ee,{$:()=>me,O:()=>xe});var a=o(67294),g=o(45697),I=o(27821),h=o(16405),v=o(72735),Y=o(35961),j=o(46273),O=o(63237),W=Object.defineProperty,r=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,_=(P,l,b)=>l in P?W(P,l,{enumerable:!0,configurable:!0,writable:!0,value:b}):P[l]=b,G=(P,l)=>{for(var b in l||(l={}))E.call(l,b)&&_(P,b,l[b]);if(r)for(var b of r(l))J.call(l,b)&&_(P,b,l[b]);return P},H=(P,l)=>{var b={};for(var q in P)E.call(P,q)&&l.indexOf(q)<0&&(b[q]=P[q]);if(P!=null&&r)for(var q of r(P))l.indexOf(q)<0&&J.call(P,q)&&(b[q]=P[q]);return b};const Q=(0,I.default)(j.k)`
  svg {
    height: ${10/16}rem;
    width: ${10/16}rem;
    path {
      fill: ${({theme:P})=>P.colors.neutral500};
    }
  }
  :last-of-type ${Y.x} {
    display: none;
  }
  :last-of-type ${v.Z} {
    color: ${({theme:P})=>P.colors.neutral800};
    font-weight: ${({theme:P})=>P.fontWeights.bold};
  }
`,me=({children:P})=>a.createElement(Q,{inline:!0,as:"li"},a.createElement(v.Z,{variant:"pi",textColor:"neutral600"},P),a.createElement(Y.x,{"aria-hidden":!0,paddingLeft:3,paddingRight:3},a.createElement(h.default,null)));me.displayName="Crumb",me.propTypes={children:g.node.isRequired};const ie=g.shape({type:g.oneOf([me])}),xe=P=>{var l=P,{children:b,label:q}=l,A=H(l,["children","label"]);return a.createElement(j.k,G({},A),a.createElement(O.T,null,q),a.createElement("ol",{"aria-hidden":!0},b))};xe.displayName="Breadcrumbs",xe.propTypes={children:g.oneOfType([g.arrayOf(ie),ie]).isRequired,label:g.string.isRequired}},31950:(ae,ee,o)=>{"use strict";o.d(ee,{h:()=>Be,X:()=>fe});var a=o(67294),g=o(45697),I=o(12645),h=o(70968),v=o(41762),Y=o(70389),j=o(7801);const O={Close:"Close",CloseSelect:"CloseSelect",First:"First",Last:"Last",Next:"Next",Open:"Open",PageDown:"PageDown",PageUp:"PageUp",Previous:"Previous",Select:"Select",Space:"Space",Type:"Type"},W={Close:"Close",First:"First",Last:"Last",Next:"Next",Open:"Open",Previous:"Previous",Select:"Select",UpLevel:"UpLevel"};function r(D=[],X=null,se=[]){const Se=String(X!=null?X:"").toLowerCase();return Se?D.filter(Ee=>Ee.props.children.toString().toLowerCase().includes(Se)&&se.indexOf(Ee)<0):D}function E(D,X){if(!X&&D===j.y.DOWN)return O.Open;if(D===j.y.DOWN)return O.Next;if(D===j.y.UP)return O.Previous;if(D===j.y.HOME)return O.First;if(D===j.y.END)return O.Last;if(D===j.y.ESCAPE)return O.Close;if(D===j.y.ENTER)return O.CloseSelect;if(D===j.y.BACKSPACE||D===j.y.CLEAR||D.length===1)return O.Type}function J(D,X,se){switch(se){case O.First:return 0;case O.Last:return X;case O.Previous:return Math.max(0,D-1);case O.Next:return Math.min(X,D+1);default:return D}}function _(D){(0,Y.Z)(D,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}).forEach(({el:X,top:se,left:Se})=>{X.scrollTop=se,X.scrollLeft=Se})}var G=o(46273),H=o(81318),Q=o(88533),me=o(35961),ie=o(72735),xe=o(88655),P=o(74020),l=o(90608);const b=({options:D,activeOptionRef:X})=>((0,a.useEffect)(()=>{X.current&&_(X.current)},[X]),D);b.defaultProps={activeOptionRef:void 0},b.propTypes={options:g.array.isRequired};var q=o(54574),A=o(64777),Ce=o(63428),We=o(96404),Ke=o(7681),qe=o(63237),at=Object.defineProperty,ke=Object.defineProperties,te=Object.getOwnPropertyDescriptors,re=Object.getOwnPropertySymbols,dt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable,yt=(D,X,se)=>X in D?at(D,X,{enumerable:!0,configurable:!0,writable:!0,value:se}):D[X]=se,jt=(D,X)=>{for(var se in X||(X={}))dt.call(X,se)&&yt(D,se,X[se]);if(re)for(var se of re(X))bt.call(X,se)&&yt(D,se,X[se]);return D},ht=(D,X)=>ke(D,te(X)),ut=(D,X)=>{var se={};for(var Se in D)dt.call(D,Se)&&X.indexOf(Se)<0&&(se[Se]=D[Se]);if(D!=null&&re)for(var Se of re(D))X.indexOf(Se)<0&&bt.call(D,Se)&&(se[Se]=D[Se]);return se};const Be=D=>{var X=D,{children:se,clearLabel:Se,creatable:Ee,createMessage:Zt,disabled:$e,error:Nt,hasMoreItems:ye,hint:Et,label:Ye,labelAction:Tt,loading:rt,loadingMessage:Dt,noOptionsMessage:Ct,onChange:De,onClear:wt,onCreateOption:Bt,onInputChange:ct,onLoadMore:Ht,placeholder:Z,required:C,value:M}=X,Le=ut(X,["children","clearLabel","creatable","createMessage","disabled","error","hasMoreItems","hint","label","labelAction","loading","loadingMessage","noOptionsMessage","onChange","onClear","onCreateOption","onInputChange","onLoadMore","placeholder","required","value"]);const Xt=()=>{var le;return(le=se.find(Pe=>{var Ne;return((Ne=Pe.props)==null?void 0:Ne.value.toLowerCase())===M.toLowerCase()}).props)==null?void 0:le.children},[Ie,vt]=(0,a.useState)(0),[Je,Sn]=(0,a.useState)(null),[Qe,on]=(0,a.useState)(se),[Mt,Fn]=(0,a.useState)(!1),[je,$t]=(0,a.useState)(""),Lt=(0,a.useRef)(),zt=(0,a.useRef)(!1),Ot=(0,a.useRef)(),sn=(0,a.useRef)(),Zn=(0,a.useRef)(),ln=(0,a.useRef)(!0),Ge=(0,v.M)("combobox"),dn=`${Ge}-label`;if(!Ye&&!Le["aria-label"])throw new Error('The Combobox component needs a "label" or an "aria-label" props');(0,a.useEffect)(()=>{on(r(se,je))},[je,se]),(0,a.useEffect)(()=>{Mt&&Lt.current&&_(Lt.current)},[Ie,Mt]),(0,a.useLayoutEffect)(()=>{ln.current&&(ln.current=!1)},[M]);const Nn=Mt?`${Ge}-${Ie}`:"",un=()=>{De(null),$t("")},cn=le=>{ct&&ct(le);const Pe=Ot.current.value;on(r(se,Pe)),vt(0),Sn(null),je!==Pe&&$t(Pe),Mt||pt(!0,!1)},Dn=le=>{const{key:Pe}=le,Ne=Ee&&je?Qe.length:Qe.length-1,ft=E(Pe,Mt);switch(M&&!je&&Pe===j.y.BACKSPACE&&un(),ft){case O.Next:{if(Ie===Ne){mt(0);break}mt(J(Ie,Ne,ft));break}case O.Previous:{if(Ie===0){mt(Ne);break}mt(J(Ie,Ne,ft));break}case O.Last:case O.First:{if(Ie===Ne){mt(0);break}mt(J(Ie,Ne,ft));break}case O.CloseSelect:le.preventDefault(),It(Ie);break;case O.Close:le.preventDefault(),pt(!1);break;case O.Open:pt(!0);break}},Ln=le=>{if(le.preventDefault(),M&&!zt.current&&$t(""),zt.current){zt.current=!1;return}pt(!1,!1)},mt=le=>{vt(le)},mn=le=>{mt(le),It(le)},pn=()=>{zt.current=!0},It=le=>{const Pe=Qe[le];if($t(""),Pe){De(Pe.props.value),pt(!1);return}Ee&&(Bt(je),pt(!1))},pt=(le,Pe=!0)=>{Fn(le),Pe&&Ot.current.focus()},Yt=a.Children.toArray(Qe).map((le,Pe)=>{const Ne=Ie===Pe;return(0,a.cloneElement)(le,{id:`${Ge}-${Pe}`,"aria-selected":Je===Pe,"aria-posinset":Pe+1,"aria-setsize":a.Children.toArray(Qe).length,ref(ft){Ne&&(Lt.current=ft)},onClick:()=>mn(Pe),onMouseDown:pn,isSelected:Ne})}),fn=()=>{Ot.current.focus(),wt&&wt(),un()},Jt=()=>{Ot.current.focus(),pt(!0)},In=()=>{const le=Qe.findIndex(Pe=>{var Ne;return((Ne=Pe.props)==null?void 0:Ne.children)===je});return je&&le===-1},Qt=le=>{le.preventDefault(),pt(le,!0)};return a.createElement(q.g,{hint:Et,error:Nt,id:Ge,required:C},a.createElement(qe.T,{"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text"},M),a.createElement(Ke.K,{spacing:Ye||Et||Nt?1:0},Ye&&a.createElement(A.Q,{action:Tt},Ye),a.createElement(P.d8,{ref:sn,$disabled:$e,hasError:Nt},a.createElement(P.fv,{wrap:"wrap"},!je&&M&&a.createElement(P.K7,{id:`${Ge}-selected-value`},a.createElement(ie.Z,null,Xt())),a.createElement(P.II,{"aria-activedescendant":Nn,"aria-autocomplete":"list","aria-controls":`${Ge}-listbox`,"aria-disabled":$e,"aria-expanded":Mt,"aria-haspopup":"listbox","aria-labelledby":Ye?dn:void 0,autoComplete:"off",autoCorrect:"off",id:Ge,onBlur:$e?void 0:Ln,onClick:$e?void 0:Qt,onInput:$e?void 0:cn,onKeyDown:$e?void 0:Dn,placeholder:M?"":Z,readOnly:$e,ref:Ot,required:C,role:"combobox",spellCheck:"off",type:"text",value:je})),a.createElement(G.k,null,(M||je)&&a.createElement(H.zb,{id:`${Ge}-clear`,"aria-label":Se,disabled:$e,paddingLeft:3,as:"button",onClick:fn,type:"button"},a.createElement(h.default,null)),a.createElement(H.AV,{disabled:$e,paddingLeft:3,"aria-hidden":!0,as:"button",onClick:Jt,tabIndex:-1,type:"button"},a.createElement(I.default,null)))),a.createElement(Ce.J,null),a.createElement(We.c,null)),Mt&&a.createElement(Q.J,{id:`${Ge}-popover`,source:sn,spacing:4,fullWidth:!0,intersectionId:`${Ge}-listbox-popover-intersection`,onReachEnd:ye&&!rt?Ht:void 0},a.createElement("div",{role:"listbox",ref:Zn,id:`${Ge}-listbox`,"aria-labelledby":Ye?dn:void 0},(Boolean(Qe.length)||Ee)&&a.createElement(a.Fragment,null,a.createElement(b,{activeOptionRef:Lt,options:Yt}),In()&&Ee&&a.createElement(l.O,{isSelected:Ie===Qe.length,ref:le=>{Ie===Qe.length&&(Lt.current=le)},onMouseDown:pn,onClick:()=>It(),taindex:0},Zt(je))),!Qe.length&&!Ee&&!rt&&a.createElement(me.x,{paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,ref:Lt},a.createElement(ie.Z,{textColor:"neutral800"},Ct(je))),rt&&a.createElement(G.k,{justifyContent:"center",alignItems:"center",paddingTop:2,paddingBottom:2},a.createElement(xe.a,{small:!0},Dt)))))},fe=D=>a.createElement(Be,ht(jt({},D),{creatable:!0}));Be.defaultProps={"aria-label":void 0,clearLabel:"clear",creatable:!1,createMessage:D=>`Create "${D}"`,disabled:!1,error:void 0,hasMoreItems:!1,hint:void 0,label:void 0,loading:!1,loadingMessage:"Loading content...",noOptionsMessage:()=>"No results found",onClear:void 0,onCreateOption:void 0,onInputChange:void 0,onLoadMore:void 0,placeholder:"Select or enter a value",value:void 0},fe.defaultProps=Be.defaultProps,Be.propTypes={"aria-label":g.string,children:g.oneOfType([g.arrayOf(g.node),g.node]),clearLabel:g.string,creatable:g.bool,createMessage:g.func,disabled:g.bool,error:g.string,hasMoreItems:g.bool,hint:g.oneOfType([g.string,g.node,g.arrayOf(g.node)]),label:g.string,labelAction:g.element,loading:g.bool,loadingMessage:g.string,noOptionsMessage:g.func,onChange:g.func.isRequired,onClear:g.func,onCreateOption:g.func,onInputChange:g.func,onLoadMore:g.func,placeholder:g.string,value:g.string},fe.propTypes=ht(jt({},Be.propTypes),{onCreateOption:g.func.isRequired})},90608:(ae,ee,o)=>{"use strict";o.d(ee,{O:()=>J});var a=o(67294),g=o(45697),I=o(72735),h=o(74020),v=Object.defineProperty,Y=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,W=(_,G,H)=>G in _?v(_,G,{enumerable:!0,configurable:!0,writable:!0,value:H}):_[G]=H,r=(_,G)=>{for(var H in G||(G={}))j.call(G,H)&&W(_,H,G[H]);if(Y)for(var H of Y(G))O.call(G,H)&&W(_,H,G[H]);return _},E=(_,G)=>{var H={};for(var Q in _)j.call(_,Q)&&G.indexOf(Q)<0&&(H[Q]=_[Q]);if(_!=null&&Y)for(var Q of Y(_))G.indexOf(Q)<0&&O.call(_,Q)&&(H[Q]=_[Q]);return H};const J=(0,a.forwardRef)((_,G)=>{var H=_,{isSelected:Q,children:me}=H,ie=E(H,["isSelected","children"]);return a.createElement(h.Zq,r({hasRadius:!0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,role:"option",background:"neutral0",isSelected:Q,ref:G},ie),a.createElement(I.Z,{textColor:Q?"primary600":"neutral800",fontWeight:Q?"bold":null},me))});J.defaultProps={isSelected:!1},J.propTypes={children:g.oneOfType([g.string,g.number]).isRequired,isSelected:g.bool},J.displayName="ComboboxOption"},74020:(ae,ee,o)=>{"use strict";o.d(ee,{II:()=>O,K7:()=>Y,Zq:()=>W,d8:()=>v,fv:()=>j});var a=o(27821),g=o(35961),I=o(46273),h=o(15585);const v=(0,a.default)(I.k)`
  position: relative;
  border: 1px solid ${({theme:r,hasError:E})=>E?r.colors.danger600:r.colors.neutral200};
  padding-right: ${({theme:r})=>r.spaces[3]};
  padding-left: ${({theme:r})=>r.spaces[3]};
  border-radius: ${({theme:r})=>r.borderRadius};
  background: ${({theme:r})=>r.colors.neutral0};

  ${({theme:r,$disabled:E})=>E?`
    color: ${r.colors.neutral600};
    background: ${r.colors.neutral150};
  `:void 0}

  ${(0,h.k3)()}
`,Y=a.default.div`
  padding: 1px 2px;
  grid-area: 1 / 1 / 2 / 3;
`,j=(0,a.default)(I.k)`
  display: grid;
  flex: 1 1 0%;
  position: relative;
`,O=a.default.input`
  display: inline-grid;
  grid-area: 1 / 1 / 2 / 3;
  grid-template-columns: 0px min-content;
  background: transparent;
  min-height: ${40/16}rem;
  border: none;
  flex: 1;
  font-size: ${14/16}rem;
  color: ${({theme:r})=>r.colors.neutral800};
  outline: none;
  &:focus-visible {
    outline: none;
    box-shadow: none;
    outline-offset: 0;
  }
  &[aria-disabled='true'] {
    background: inherit;
    color: inherit;
    cursor: not-allowed;
  }
`,W=(0,a.default)(g.x)`
  width: 100%;
  border: none;
  text-align: left;
  outline-offset: -3px;
  ${({isSelected:r,theme:E})=>r&&`background: ${E.colors.primary100};`}

  &:hover {
    background: ${({theme:r})=>r.colors.primary100};
  }
`},32064:(ae,ee,o)=>{"use strict";o.d(ee,{Q:()=>l});var a=o(67294),g=o(49656),I=o(27821),h=o(45697),v=o(72735),Y=o(35961),j=o(92577),O=o(78474),W=o(21817),r=Object.defineProperty,E=Object.defineProperties,J=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,Q=(b,q,A)=>q in b?r(b,q,{enumerable:!0,configurable:!0,writable:!0,value:A}):b[q]=A,me=(b,q)=>{for(var A in q||(q={}))G.call(q,A)&&Q(b,A,q[A]);if(_)for(var A of _(q))H.call(q,A)&&Q(b,A,q[A]);return b},ie=(b,q)=>E(b,J(q)),xe=(b,q)=>{var A={};for(var Ce in b)G.call(b,Ce)&&q.indexOf(Ce)<0&&(A[Ce]=b[Ce]);if(b!=null&&_)for(var Ce of _(b))q.indexOf(Ce)<0&&H.call(b,Ce)&&(A[Ce]=b[Ce]);return A};const P=(0,I.default)(W.G)`
  padding: ${({theme:b,size:q})=>`${q==="S"?b.spaces[2]:"10px"} ${b.spaces[4]}`};
  background: ${({theme:b})=>b.colors.buttonPrimary600};
  border: 1px solid ${({theme:b})=>b.colors.buttonPrimary600};
  border-radius: ${({theme:b})=>b.borderRadius};
  ${Y.x} {
    display: flex;
    align-items: center;
  }
  ${v.Z} {
    color: ${({theme:b})=>b.colors.buttonNeutral0};
  }
  &[aria-disabled='true'] {
    ${j.sg}
    &:active {
      ${j.sg}
    }
  }
  &:hover {
    ${j.yP}
  }
  &:active {
    ${j.tB}
  }
  ${j.PD}
  /**
    Link specific properties
  */
  display: inline-flex;
  text-decoration: none;
  pointer-events: ${({disabled:b})=>b?"none":void 0};
`,l=a.forwardRef((b,q)=>{var A=b,{variant:Ce,startIcon:We,endIcon:Ke,disabled:qe,children:at,size:ke,href:te,to:re}=A,dt=xe(A,["variant","startIcon","endIcon","disabled","children","size","href","to"]);const bt=te?"_blank":void 0,yt=te?"noreferrer noopener":void 0;return a.createElement(P,ie(me({ref:q,"aria-disabled":qe,size:ke,variant:Ce,target:bt,rel:yt,to:qe?void 0:re,href:qe?"#":te},dt),{as:re&&!qe?g.NavLink:"a"}),We&&a.createElement(Y.x,{"aria-hidden":!0,paddingRight:2},We),ke==="S"?a.createElement(v.Z,{variant:"pi",fontWeight:"bold"},at):a.createElement(v.Z,{fontWeight:"bold"},at),Ke&&a.createElement(Y.x,{"aria-hidden":!0,paddingLeft:2},Ke))});l.displayName="LinkButton",l.defaultProps={disabled:!1,startIcon:void 0,endIcon:void 0,size:"S",variant:"default",onClick:void 0,href:void 0,to:void 0},l.propTypes={children:h.node.isRequired,disabled:h.bool,endIcon:h.element,href(b){if(!b.disabled&&!b.to&&!b.href)return new Error("href must be defined")},onClick:h.func,size:h.oneOf(O.Gt),startIcon:h.element,to(b){if(!b.disabled&&!b.href&&!b.to)return new Error("to must be defined")},variant:h.oneOf(O.ZC)}},39785:(ae,ee,o)=>{"use strict";o.d(ee,{A:()=>xe});var a=o(67294),g=o(45697),I=o(27821),h=o(86647),v=o(35961),Y=o(72735),j=o(46273),O=o(15585),W=Object.defineProperty,r=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,_=(P,l,b)=>l in P?W(P,l,{enumerable:!0,configurable:!0,writable:!0,value:b}):P[l]=b,G=(P,l)=>{for(var b in l||(l={}))E.call(l,b)&&_(P,b,l[b]);if(r)for(var b of r(l))J.call(l,b)&&_(P,b,l[b]);return P},H=(P,l)=>{var b={};for(var q in P)E.call(P,q)&&l.indexOf(q)<0&&(b[q]=P[q]);if(P!=null&&r)for(var q of r(P))l.indexOf(q)<0&&J.call(P,q)&&(b[q]=P[q]);return b};const Q=I.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,me=I.default.div`
  animation: ${Q} 2s infinite linear;
  will-change: transform;
`,ie=(0,I.default)(j.k)`
  background: transparent;
  border: none;

  &[aria-disabled='true'] {
    pointer-events: none;
    svg path {
      fill: ${({theme:P})=>P.colors.neutral600};
    }
  }

  svg {
    display: flex;
    font-size: ${10/16}rem;
  }

  svg path {
    fill: ${({theme:P})=>P.colors.primary600};
  }

  ${O.BF}
`,xe=a.forwardRef((P,l)=>{var b=P,{children:q,startIcon:A,endIcon:Ce,onClick:We,disabled:Ke,loading:qe}=b,at=H(b,["children","startIcon","endIcon","onClick","disabled","loading"]);const ke=We&&!Ke?We:void 0,te=Ke||qe;return a.createElement(ie,G({ref:l,"aria-disabled":te,onClick:ke,as:"button",type:"button"},at),(A||qe)&&a.createElement(v.x,{as:"span",paddingRight:2,"aria-hidden":!0},qe?a.createElement(me,null,a.createElement(h.default,null)):A),a.createElement(Y.Z,{variant:"pi",textColor:te?"neutral600":"primary600"},q),Ce&&a.createElement(v.x,{as:"span",paddingLeft:2,"aria-hidden":!0},Ce))});xe.displayName="TextButton",xe.defaultProps={disabled:!1,startIcon:void 0,endIcon:void 0,loading:!1,onClick:void 0},xe.propTypes={children:g.node.isRequired,disabled:g.bool,endIcon:g.element,loading:g.bool,onClick:g.func,startIcon:g.element}}}]);
